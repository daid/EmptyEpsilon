<!doctype html>
<html lang="us">
<head>
	<meta charset="utf-8">
	<title>EmptyEpsilon - Multiplayer Space Bridge Simulator</title>
	<link href="jquery-ui.min.css" rel="stylesheet">
	<link href="main.css" rel="stylesheet">
</head>
<body>

<h1>EmptyEpsilon</h1>
<div id="tabs">
	<ul>
		<li><a href="#tabs-info">Info</a></li>
		<li><a href="#tabs-media">Media</a></li>
		<li><a href="#tabs-running">Running a game</a></li>
		<li><a href="#tabs-stations">Stations</a></li>
		<li><a href="#tabs-scripting">Mission scripting</a></li>
		<li><a href="#tabs-download">Download</a></li>
	</ul>
	<div id="tabs-info">
		<h2>What is it?</h2>
		EmptyEpsilon is a space ship bridge simulator game. It's fully open source, so it can be modified in any way people wish.
		<h2>What does this mean?</h2>
		EmptyEpsilon allows you to play a space ship bridge. Like seen in <a href="http://en.wikipedia.org/wiki/Star_Trek">Star Trek</a>. In order to play, you will need at least four people, but the best experience is with 6.
		Each person will have their own role; Captain, Helms, Tactical, Relay, Science and engineering. The captain however, does not have a screen, nor can he press any buttons (save for switching the main screen). The captain will need to rely on their trusty crew to follow his/her orders.
		<h2>Artemis Spaceship Bridge Simulator?</h2>
		<a href="http://www.artemis.eochu.com/">Artemis Spaceship Bridge Simulator</a> was the inspiration for EmptyEpsilon. It's pretty good as a bridge simulator.But we had some issues with it, which we decided to fix. As spaceship artemis isn't open source, our only solution was to start over by ourselves.
		For example, the "comms" station of Artemis is pretty limited causing that station to be boring for the player. There where also issues with the game desyncing, causing confusion among the players.
		Also the GameMaster screen pretty much did not what we wanted to see in a GameMaster screen.<br>
		So, all in all, artemis is a nice game, but we wrote our own due to lack of features.
		<h2>Contact</h2>
		<p>The best place to talk about bridge simulation and EmptyEpsilon is the <a href="http://bridgesim.net/">The Starship Bridge Simulation Network</a>. We regulary check this and post updates / battle logs of our space adventures.</p>
		<p>Main developers of EmptyEpsilon go by the names of <a href="https://github.com/daid/">Daid</a> and <a href="https://github.com/nallath/">Nallath</a></p>
		
		<h2>Donations</h2>
		<p>EmptyEpsilon is a 100% free game. We made this because we wanted to play the game we envisioned for ourselves. But we are not artists, so we need to buy the 3D models used in this game.</p>
		<p>Currently we are raising money to buy <a href="http://www.turbosquid.com/3d-models/maya-5-small-frigates/828573">more frigates models</a></p>
		<p><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
		<input type="hidden" name="cmd" value="_s-xclick">
		<input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----MIIHLwYJKoZIhvcNAQcEoIIHIDCCBxwCAQExggEwMIIBLAIBADCBlDCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20CAQAwDQYJKoZIhvcNAQEBBQAEgYCVbnpD7hW71fSbbk1Y56Hj0wum2SY7smaaImtwZ2DgsZ9QasKO1eRNSzIM8iTgzm9mTtnC/RmyqngDwGFJb6AS2xbh/t6FgDts1it+Kgx4ogQYHWoCOHIhMyWK/VlUf47uQAYBI82SsFls5HWn+5pc+hqKT8EXfELa3Y6SMSjs3zELMAkGBSsOAwIaBQAwgawGCSqGSIb3DQEHATAUBggqhkiG9w0DBwQIJGU9R1IVGpyAgYjBx33ek6s/WoGL96486h44OEh5HcSk3LS9sRP1owxuaOm4POUYO9uNmg5MkRZBDtnN3oGMj5AvJVwK5zwiUh303rFMldoM6zO0bcHGDB8YS8cjzxAixnV6lDDHKzkWsm4xtSwwzQVZ7LFhOUsUh2NUm1Vhgkem7CaqV0SoJrgEw3dvBH660m5eoIIDhzCCA4MwggLsoAMCAQICAQAwDQYJKoZIhvcNAQEFBQAwgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tMB4XDTA0MDIxMzEwMTMxNVoXDTM1MDIxMzEwMTMxNVowgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDBR07d/ETMS1ycjtkpkvjXZe9k+6CieLuLsPumsJ7QC1odNz3sJiCbs2wC0nLE0uLGaEtXynIgRqIddYCHx88pb5HTXv4SZeuv0Rqq4+axW9PLAAATU8w04qqjaSXgbGLP3NmohqM6bV9kZZwZLR/klDaQGo1u9uDb9lr4Yn+rBQIDAQABo4HuMIHrMB0GA1UdDgQWBBSWn3y7xm8XvVk/UtcKG+wQ1mSUazCBuwYDVR0jBIGzMIGwgBSWn3y7xm8XvVk/UtcKG+wQ1mSUa6GBlKSBkTCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb22CAQAwDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0BAQUFAAOBgQCBXzpWmoBa5e9fo6ujionW1hUhPkOBakTr3YCDjbYfvJEiv/2P+IobhOGJr85+XHhN0v4gUkEDI8r2/rNk1m0GA8HKddvTjyGw/XqXa+LSTlDYkqI8OwR8GEYj4efEtcRpRYBxV8KxAW93YDWzFGvruKnnLbDAF6VR5w/cCMn5hzGCAZowggGWAgEBMIGUMIGOMQswCQYDVQQGEwJVUzELMAkGA1UECBMCQ0ExFjAUBgNVBAcTDU1vdW50YWluIFZpZXcxFDASBgNVBAoTC1BheVBhbCBJbmMuMRMwEQYDVQQLFApsaXZlX2NlcnRzMREwDwYDVQQDFAhsaXZlX2FwaTEcMBoGCSqGSIb3DQEJARYNcmVAcGF5cGFsLmNvbQIBADAJBgUrDgMCGgUAoF0wGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMTUwMjE5MDg1MzE1WjAjBgkqhkiG9w0BCQQxFgQUBJPj1UZDDW3rRUMIqXiSF5BJ9/IwDQYJKoZIhvcNAQEBBQAEgYB3mZpC9BJNH+rL045uUa1K7lJZ0yNulQG9CP/MKJLpQT9RMuRR0x30PIWk0uZxMXTuib95aSrLGQkWM41/J8F+gSLDsPKQ70b1oaQuGNilOBMTQM8+u2XECFNc4RVj+/3X3yg31ZjyKeZOqcEGpqDdCnNLMx6LOuxPJGXVoqtpYw==-----END PKCS7-----">
		<input type="image" src="https://www.paypalobjects.com/en_GB/i/btn/btn_donate_SM.gif" border="0" name="submit" alt="PayPal â€“ The safer, easier way to pay online.">
		<img alt="" border="0" src="https://www.paypalobjects.com/nl_NL/i/scr/pixel.gif" width="1" height="1">
		</form></p>
		<h2>Previous contributions</h2>
		<p>Thanks to generous contribution of Serge Wroclawski we managed to buy: <a href="http://www.turbosquid.com/3d-models/max-5-battleship-destroyers-upgraded/707660">more battleship models</a></p>
		<p>Thanks to contributions of MadKat and Daid we managed to buy: <a href="http://www.turbosquid.com/3d-models/4-space-station-max/679444">larger 3D station models</a></p>
	</div>
	<div id="tabs-media">
		<p><img src="screenshots/mainscreen.png"></p>
		<p>Main screen view from a cruiser near a station being attacked by two enemy cruisers.</p>
		<p><img src="screenshots/helms.png"></p>
		<p>View on the helms officers screen. Controls the movement of the ship.</p>
		<p><img src="screenshots/weapons.png"></p>
		<p>View on the helms weapons screen. Controls the weapons and shields of the ship.</p>
		<p><img src="screenshots/engineering.png"></p>
		<p>View on the engineering screen. Can boost different subsystems and repair systems.</p>
		<p><img src="screenshots/science.png"></p>
		<p>View on the science officers screen. Has long range scanners and a large database of information</p>
		<p><img src="screenshots/relay.png"></p>
		<p>View on the relay officers screen. Can see friendly ships and what's in the short range radar range of friendly ships. Can call ships and stations for different requests.</p>
	</div>
	<div id="tabs-running">
		<div id="running-tabs">
			<ul>
				<li><a href="#running-tabs-standard">Standard setup</a></li>
				<li><a href="#running-tabs-limited">Limited setup</a></li>
				<li><a href="#running-tabs-auto">Automated setup</a></li>
				<li><a href="#running-tabs-gm">Game Master</a></li>
			</ul>
			<div id="running-tabs-standard">
				<p>
					To run EmptyEpsilon you need the following equipment:
					<ul>
						<li>4-6 computers, depending on the number of players (laptops or desktops)</li>
						<li>One big screen (large monitor, tv or beamer)</li>
						<li>A stable network (wifi can work, but cabled network is prefered)</li>
					</ul>
					5 of the 6 computers will run "stations" these are for the players that need to control different parts of the ship.
					The last computer is for the main screen. This screen does not need any input and should be visible for all players.
				</p>
				<p>
					Designate a single player as Captain. 
					His computer can be used as main screen, and his only job is to talk with the other players and tell them what they should do.
				</p>
				<p>
					The other 5 players each man a different station. The description on what each station can (and should) do can be found at station tabs.
				</p>
				<h2>Running the game</h2>
				<p>
					After starting the game the computer selected for the main screen can best be the server. The other stations should connect as clients.
					After starting a server, and selecting a scenario (we recommend the "Waves" or "Basic" scenario for first games) you should spawn a player ship for everyone to join.
					Everyone should select the ship, choose their designated station. And you're off. Easy as pie.
				</p>
			</div>
			<div id="running-tabs-limited">
				<p> If you don't have enough players (or stations) it's possible to run multiple stations on a single machine. This can be done by pressing multiple roles in the ship selection menu. Switching between stations can be done by pressing the corresponding button in the top of the game screen.</p>
				<p> There is also the option to run with a 4/3 player crew setup. Where you have only 3 stations. Called <b>Tactical</b>, <b>Engineering+</b> and <b>Operations</b>.</p>
				<p> <b>Tactical</b> combines helms and weapons into one station.</p>
				<p> <b>Engineering+</b> takes shields activation from the weapon station.</p>
				<p> <b>Operations</b> Acts the same as science, but allows for communications as well.</p>
				<p> These 3 extra setups can be combined with the normal 5 stations </p>
			</div>
			<div id="running-tabs-auto">
				<p>
					TODO (You can make EmptyEpsilon auto connect to any available server on the network, and selecting a station instantly. Lowering setup time)
				</p>
			</div>
			<div id="running-tabs-gm">
				<p>
					TODO (You have access to a GM screen on the server, which gives you a lot of control on the game, allowing tweaks while the game is playing, making for an more intresting game)
				</p>
			</div>
		</div>
	</div>
	<div id="tabs-stations">
		<div id="station-tabs">
			<ul>
				<li><a href="#station-tabs-main">Main screen/Captain</a></li>
				<li><a href="#station-tabs-helm">Helms</a></li>
				<li><a href="#station-tabs-weapons">Weapons</a></li>
				<li><a href="#station-tabs-engineering">Engineering</a></li>
				<li><a href="#station-tabs-science">Science</a></li>
				<li><a href="#station-tabs-relay">Relay</a></li>
			</ul>
			<div id="station-tabs-main">
				<p><img src="screenshots/mainscreen.png"></p>
				<p>
					The captain has zero direct control of the ship. However, he is tasked with keeping the whole crew together and making tactical decisions.
					The main screen should be setup on a large monitor or beamer so it is visible for all the players.
				</p>
				<h2>The captains tasks include (but are not limited to):</h2>
				<ul>
					<li>Planning the next actions</li>
					<li>Co-ordinating combat tactics</li>
					<li>Preventing mutiny</li>
					<li>Setting priorities</li>
				</ul>
				<h2>Controls:</h2>
				<p>Note that these controls are optional, and do not have to be used to play the game, but could be used in custom hardware setups. These controls are only for the main screen.</p>
				<ul>
					<li>Left mouse button: Rotate the main screen 90deg to the left</li>
					<li>Right mouse button: Rotate the main screen 90deg to the right</li>
					<li>Middle mouse button: Switch between ship, radar and long range radar view</li>
					<li>Up key: Set mainscreen view to forward view</li>
					<li>Down key: Set mainscreen view to rear view</li>
					<li>Left key: Set mainscreen view to left view</li>
					<li>Right key: Set mainscreen view to right view</li>
					<li>Tab key: Set mainscreen view to short range radar view</li>
					<li>Q key: Set mainscreen view to long range radar view</li>
				</ul>
				<h2>Notes</h2>
				<p>
					There are a lot of ways to setup the mainscreen and captain role. You can designate a single station to give control of the main screen.
					But you can also give the captain direct control of the main screen with the above controls.
				</p>
				<p>
					A simple "custom" hardware setup for the captain would be using tape to attach a 3 button mouse to an armchair.
				</p>
			</div>
			<div id="station-tabs-helm">
				<p><img src="screenshots/helms.png"></p>
				<p> In the left upper corner you can see the energy (max is 1000), the current heading in degrees and the current speed. Below this data are two sliders; The leftmost slider sets the impulse power from -100% to 100%. The slider next to it sets the jump distance. </p>
				<p> <b>Jumping</b> The jump button allowes the ship to jump the set distance in it's current heading. Note that the further you jump, the higher the energy cost. Depending on how much power the system has (and how damaged it is) the time to power the jump might increase/decrease. </p>
				<p> <b>Docking</b> Docking can be done when the ship is within 1 km of a friendly station by pressing the dock button. </p>
			</div>
			<div id="station-tabs-weapons">
				<p><img src="screenshots/weapons.png"></p>
				<p> <b>Targeting</b> In order to fire, an enemy ship needs to be targeted. This is done by clicking the desired ship. </p>
				<p> <b>Missiles</b> Missiles are one of the most destructive weapons of a space ship. Before they can be fired, they need to be loaded in a missile tube. Loadeding missiles wil take time. Unloading missiles can be done by pressing the unload button next to a loaded missile tube. Firing a missile can be done by pressing a loaded missile tube. Take care to have an enemy selected! If there is no enemy, the missile wil be dumb fired (flying in a straight line). </p>
				<p> <b> Beam weapons</b> The location &amp; range of beam weapons are indicated by the red firing arcs. Once a target is selected, the beam weapons will auto fire.  The frequency can be set on the right of the screen. Some frequencies will deal more damage to certain shield frequencies. Rely on your science officer to provide you with such data. Note that changing the frequencies does not take time. 
					Beam weapons can also target selective subsystems. If you simply wish to destroy an enemy, it's best left on hull.</p>
				<p> <b> Shields </b> Shields can be activated (and deactivated) by pressing the shield button. It might seem tempting to keep the shields up at all time, but they drain significantly more power when they are active. </p>
			</div>
			<div id="station-tabs-engineering">
				<p><img src="screenshots/engineering.png"></p>
				<p> <b> Power management </b> The engineer can re-route power from one system to another. This can be done by selecting the system and moving the power slider. Giving a system more power will increase it's output (Generator; More energy per second, Shield; more damage reduction / reload, Impulse; faster movement, etc). </p>
				<p> <b>Coolant </b> Increasing the energy that is sent to systems will heat up the systems. By giving a system more coolant, more heat can be transported from the system. There is a finite amount of coolant. The trend of the temperature is shown with a white arrow. The brighter it is, the larger the trend (either up or down, as indicated by the direction of the arrow). </p>
				<p> <b> Repair </b> It can happen that certain systems get damaged, either by being shot or due to overheating. Systems have a state of -100% to 100%. Once a system is at or below 0% it will no longer function. Systems below 100% will function sub optimal (in much the same way if they are under powered). Systems can be repaired by sending a repair crew to it. Repair crews automatically repair all systems in the room they are in. </p>
				<p> <b> Calibration </b> Engineering can also calibrate shields. This is done by selecting a frequency and pressing the calibrate button. Note that this takes time, during which the shields are offline. They will not automatically turn on once the shields are recalibrated.</p>
			</div>
			<div id="station-tabs-science">
				<p><img src="screenshots/science.png"></p>
				<p> <b>Long range radar</b> The science station has a long range radar, which is vital to spot ships comming in from a distance. Reporting how the current sector looks and how it changes is your most important task.</p>
				<p> <b>Scanning</b> You can scan ships to get more information about them. Most ships will be unknown (gray) at the start. And need to be scanned to know if they are friend or foe.</p>
				<p> <b>More scanning</b> Scanning a target twice yields more information. You can see what shield and beam frequencies should be used to engrage this target. A second scan will also provide the helms and weapons screen with information about beamweapons, allowing you to avoid being shot by their beams.</p>
				<p> <b>Nebulas</b> Nebulas block your long range scanners. Be sure to relay information about where you can see things, and where not, to both the captain and the relay officer.</p>
				<p> <b>Database</b> The science station is equiped with a database of all known ships, as well as weapon and other information. Use this information to your advantage.</p>
			</div>
			<div id="station-tabs-relay">
				<p><img src="screenshots/relay.png"></p>
				<p> <b>Communications</b> the relay station can open communications to stations and other ships. This can be used for varius tasks, including asking for backup, sending orders to friendly ships. Or asking for re-supplies when docked.</p>
				<p> <b>Short range sensors</b> you can see what the short range sensors (5km) see around your ship. But also around other friendly ships. Giving you the ability to spot things before the science station does. You however, cannot scan ships.</p>
				<p> <b>Probes</b> you can send out up to 10 probes. These probes will fly towards a location and stay there for 10 minutes. Every probe will give you a 5km addition sensor area. Probes will work inside nebulas and thus are a powerful tool when faced with an area blocked by nebula.</p>
			</div>
		</div>
	</div>
	<div id="tabs-scripting">
		<div id="scripting-tabs">
			<ul>
				<li><a href="#scripting-tabs-0">0) Tools&amp;basics</a></li>
				<li><a href="#scripting-tabs-1">1) Building a world</a></li>
				<li><a href="#scripting-tabs-2">2) Death &amp; destruction</a></li>
				<li><a href="#scripting-tabs-3">3) ...</a></li>
			</ul>
			<div id="scripting-tabs-0">
				<h2>About this series</h2>
				<p>This series of scripting documentation will document the steps taken to develop the EmptyEpsilon mission <b>Beacon of light</b></p>
				<p>The world scenario and mission are used freely troughout this series. EmptyEpsilon has scripted scenarios, which can be less or more complex. We will be focusing here on building a mission.</p>
				<p>This mission will start out with a fixed set of instructions for the player to follow. And will provide them with challanges to overcome.</p>
				<p>The scenario scripting system can be used for more complex setups. But this won't be done in this series. Look at the "Waves" scenario for a different setup.</p>
				<p>These series will start of easy, with very little to no programming knowledge required. But will go into more advanced topics later on.</p>
				<h2>Tools</h2>
				<p>For scenario/mission development you need a basic text editor. While windows notepad can work, I highly recommend something more advanced.</p>
				<p>There are various options:</p>
				<ul>
					<li><a href="http://www.pnotepad.org/">Programmers notepad</a> (windows)</li>
					<li><a href="http://www.sublimetext.com/">Sublime text</a> (windows, mac, linux)</li>
					<li><a href="https://notepad-plus-plus.org/">Nodepad++</a> (windows)</li>
				</ul>
				<p>And there are many more. I personally use Programmers notepad. But any of these editors will do.</p>
				<p>Download and install the editor of your choice.</p>
				<h2>Setting up the file</h2>
				<p>We'll start out with an empty scenario, as a template to setup our initial game in step 1.</p>
				<p>Open the editor of your choise, and enter the following code:</p>
				<p class="code">-- Name: Beacon of light series
-- Description: The beacon of light scenario, build from the series at EmptyEpsilon.org

-- Init is run when the scenario is started. Create your initial
function init()
    -- Create the main ship for the players.
    PlayerSpaceship():setFaction("Human Navy"):setShipTemplate("Player Cruiser")
end

function update(delta)
end</p>
				<p>Save this as a file named <b>scenario_99_tutorial.lua</b> in the folder <b>EmptyEpsilon/scripts</b></p>
				<p>Open EmptyEpsilon and start a new server. Your scenario should be at the bottom of the list. Start it, and you will notice that there is a ship for the players created per default.</p>
				<h2>Tips&amp;tricks</h2>
				<p>The file needs to start with <b>scenario_</b> to be picked up as a scenario.</p>
				<p>The number in the scenario filename is for the order in which EmptyEpsilon shows the scenarios.</p>
				<p>The final part of the filename is only for reference. The actual name shown is in the first line of the script file.</p>
				<p>Lines starting with a double dash -- are comment lines in the scenario script. They do not do anything while playing, but are for your own reference so you know what the code does.</p>
				<p>To quickly view how the scenario looks, you can use the GameMaster screen, this allows you to view the whole game world with ease.</p>
				<p>EmptyEpsilon scenarios are build in lua scripting. For a full reference of the lua language see <a href="http://www.lua.org/">http://www.lua.org/</a>.</p>
			</div>
			<div id="scripting-tabs-1">
				<h2>Building a world?</h2>
				<p>Now that you have setup a basic script and know how to save and run it. Let us populate the world a bit more.</p>
				<p>We'll first fill it with some stations, and then add some nebulae and asteroids.</p>
				<h2>Building a world - Stations</h2>
				<p>Right now the only thing in the world is the ship for the players. Which does not make for an intresting world.</p>
				<p>So let's add some stations. Add the following code after the creation of the player ship:</p>
				<p class="code">    SpaceStation():setTemplate("Small Station"):setFaction("Human Navy"):setPosition(23500, 16100)
    SpaceStation():setTemplate("Medium Station"):setFaction("Human Navy"):setPosition(-25200, 32200)
    SpaceStation():setTemplate("Large Station"):setFaction("Kraylor"):setPosition(-45600, -15800)
    SpaceStation():setTemplate("Small Station"):setFaction("Independent"):setPosition(9100,-35400)
</p>
				<p>This places a friendly small station at 23k,16k. Which is in sector F6. Another friendly station in sector G3. A large enemy Kralor station in sector E2. And a small neutral station at sector D5.</p>
				<p>Each sector is 20x20km. And sector F5 starts at 0,0. <a href="info_images/sector_positions.png">Look at this image for more details.</a></p>
				<p>Now, we want the player to start a bit closer to the small friendly station. So we set the player position near the small station.</p>
				<p class="code">    PlayerSpaceship():setFaction("Human Navy"):setShipTemplate("Player Cruiser"):setPosition(22400, 16200)</p>
				<h2>Building more world - Nebulae</h2>
				<p>Nebulae are intresting to add to the game world. As they block of a 5km range of the long range radar. And add more mistery to the whole world.</p>
				<p>They provide an intresting tactical difference to the game. As computer controlled ships are also blocked by Nebulae.</p>
				<p>So we surround the enemy station by some nebula, so it's shielded from direct sight.</p>
				<p class="code">    --Nebula that hide the enemy station.
    Nebula():setPosition(-43300,  2200)
    Nebula():setPosition(-34000,  -700)
    Nebula():setPosition(-32000,-10000)
    Nebula():setPosition(-24000,-14300)
    Nebula():setPosition(-28600,-21900)
</p>
				<p>But a cloud of nebulae like that clearly hides something, so add a few random nebulae as well.</p>
				<p class="code">    --Random nebulae in the system
    Nebula():setPosition( -8000,-38300)
    Nebula():setPosition( 24000,-30700)
    Nebula():setPosition( 42300,  3100)
    Nebula():setPosition( 49200, 10700)
    Nebula():setPosition(  3750, 31250)
    Nebula():setPosition(-39500, 18700)
</p>
				<h2>Building more world - Asteroids</h2>
				<p>Asteroids can be placed in the same way as Nebula and stations.</p>
				<p class="code">Astroid():setPosition(-1000, -1000)</p>
				<p>However, because you usually want 50 or even 100 asteroids. Placing the position by hand will be a hell do to.</p>
				<p>So we can use more lua programming functions to do this.</p>
				<p class="code">--Place a single random asteroid in sector E5:
Asteroid():setPosition(random(0, 20000), random(-20000, 0))</p>
				<p>So that is a single astroid. Which does not really feel like an astroid field.</p>
				<p class="code">--Create 100 Asteroids
for asteroid_counter=1,100 do
    Asteroid():setPosition(random(0, 20000), random(-20000, 0))
end</p>
				<p>Surrounding it in a simple for loop however, will generate a 100 random Asteroids.</p>
				<p>Which... results in a pretty square asteroid field. Not that pretty.</p>
				<p>So right now, we just tweak the parameters to have an field from sector E4 to G4 in a straight line.</p>
				<p class="code">	--Create 50 Asteroids
	for asteroid_counter=1,50 do
		Asteroid():setPosition(random(-10000, -5000), random(-10000, 30000))
	end
</p>
				<p>Already a whole lot better. But when you look at it in the 3D view now, it does look very flat. To fix that we add some VisualAsteroids as well. These asteroids are above or below the ship flying plane and cannot be hit. They are just there for visuals.</p>
				<p class="code">	--Create 100 Asteroids
	for asteroid_counter=1,50 do
		Asteroid():setPosition(random(-10000, -5000), random(-10000, 30000))
		VisualAsteroid():setPosition(random(-10000, -5000), random(-10000, 30000))
	end
</p>
				<h2>Spice it up a bit</h2>
				<p>Right now the stations are just called DS-7, and other DS-? numbers. But we can change this.</p>
				<p>By calling the setCallSign function on the stations, we can set a different name for them. Be sure to keep this short.</p>
				<p class="code">    SpaceStation():setTemplate("Small Station"):setFaction("Human Navy"):setPosition(23500, 16100):setCallSign("Research-1")
    SpaceStation():setTemplate("Medium Station"):setFaction("Human Navy"):setPosition(-25200, 32200):setCallSign("Orion-5")
    SpaceStation():setTemplate("Large Station"):setFaction("Kraylor"):setPosition(-45600, -15800):setCallSign("Omega")
    SpaceStation():setTemplate("Small Station"):setFaction("Independent"):setPosition(9100,-35400):setCallSign("Refugee-X")</p>
				<p>We call the small station a research station, which gives it a bit more character. The enemy station is called Omega, as it's big. And the neutral station is called Refugee-X, which makes it sound like it could be housing refugees.</p>
				<p>A few simple names can give the whole world more character.</p>
				<p>Finally we call the player ship <b>TheEpsilon</b></p>
				<p class="code">PlayerSpaceship():setFaction("Human Navy"):setShipTemplate("Player Cruiser"):setPosition(22400, 18200):setCallSign("TheEpsilon")</p>
				<h2>Tips&amp;tricks - Building even more world?</h2>
				<p>Next to asteroids, stations and nebulae there are a few more options to populate your world.</p>
				<p>While we do not use anything else at this point in time. The following objects can also be created:</p>
				<p class="code">BlackHole() -- Create a black hole, a 5km radius black hole which destroys anything that comes into the center.
Mine() -- A simple mine. Explodes with a 1km radius when a ship comes too close.
WarpJammer():setFaction("Kraylor") -- A warp jammer, jams warp and jump drives in a 5km radius. Can be destroyed.
SupplyDrop():setFaction("Human Navy") -- A supply drop, can be picked up by flying over it, empty per default, can be filled with energy and missile weapons.</p>
				<h2>Final script for today.</h2>
				<p>We end off with the complete script for reference.</p>
				<p class="code">-- Name: Beacon of light - Day 1
-- Description: The beacon of light scenario, build from the series at EmptyEpsilon.org

-- Init is run when the scenario is started. Create your initial
function init()
    -- Create the main ship for the players.
    PlayerSpaceship():setFaction("Human Navy"):setShipTemplate("Player Cruiser"):setPosition(22400, 18200):setCallSign("TheEpsilon")

    SpaceStation():setTemplate("Small Station"):setFaction("Human Navy"):setPosition(23500, 16100):setCallSign("Research-1")
    SpaceStation():setTemplate("Medium Station"):setFaction("Human Navy"):setPosition(-25200, 32200):setCallSign("Orion-5")
    SpaceStation():setTemplate("Large Station"):setFaction("Kraylor"):setPosition(-45600, -15800):setCallSign("Omega")
    SpaceStation():setTemplate("Small Station"):setFaction("Independent"):setPosition(9100,-35400):setCallSign("Refugee-X")
    
	--Nebula that hide the enemy station.
    Nebula():setPosition(-43300,  2200)
    Nebula():setPosition(-34000,  -700)
    Nebula():setPosition(-32000,-10000)
    Nebula():setPosition(-24000,-14300)
    Nebula():setPosition(-28600,-21900)
    
	--Random nebulae in the system
    Nebula():setPosition( -8000,-38300)
    Nebula():setPosition( 24000,-30700)
    Nebula():setPosition( 42300,  3100)
    Nebula():setPosition( 49200, 10700)
    Nebula():setPosition(  3750, 31250)
    Nebula():setPosition(-39500, 18700)

    --Create 50 Asteroids
    for asteroid_counter=1,50 do
        Asteroid():setPosition(random(-10000, -5000), random(-10000, 30000))
        VisualAsteroid():setPosition(random(-10000, -5000), random(-10000, 30000))
    end
end

function update(delta)
end
</p>
			</div>
			<div id="scripting-tabs-2">
				<h2>Well, that is boring...</h2>
				<p>Congradulations on building the most boring scenario so far.</p>
				<p>Now we're going to add some things that really spice things up. Other ships.</p>
				<h2>About other ships</h2>
				<p>What you need to remember when working with other ships are a few basic things.</p>
				<p><b>Factions:</b> First off, the faction of a ship defines it's relation to other ships. For example Kraylor ships attack any other ship or station except when they belong to the Independent faction.</p>
				<p><b>Orders:</b> Every ship has orders. The orders define how the ship behaves, if it stays still, or attacks for example, or seeks out targets on it's own.</p>
				<p><b>Templates:</b> Finally every ship has a template, the template defines how it looks, what weapons it starts out with.</p>
				<h2>Your first enemy</h2>
				<p>So, let's create an enemy.</p>
				<p class="code">CpuShip():setShipTemplate("Cruiser"):setFaction("Kraylor"):setPosition(1000, 1000)</p>
				<p>Fight it! I'm sure you will win.</p>
				<p>Well, that was easy right? Most likely you are already reading this before you tried. But if you did try. You will notice it did not do anything. This is because the default orders for a CpuShip are to stay idle and do nothing.</p>
				<p>Damn it, still boring. So let's give it simple orders.</p>
				<p class="code">CpuShip():setShipTemplate("Cruiser"):setFaction("Kraylor"):setPosition(1000, 1000):orderRoaming()</p>
				<p>Roaming is one of the most basic orders that can be given to a ship. It orders the ship to fly around the world and seek a target to destroy.</p>
				<p>Ping! Suddently you have an enemy to fight. Great!</p>
				<p>Let us set this up as 2 cruisers that start at the lower nebula, they will fly out and seek out the player quite well on their own.</p>
				<p class="code">    --Small Kraylor strike team, starting in the nebula at G5
    CpuShip():setShipTemplate("Cruiser"):setFaction("Kraylor"):setPosition(3550, 31250):orderRoaming()
    CpuShip():setShipTemplate("Cruiser"):setFaction("Kraylor"):setPosition(3950, 31250):orderRoaming()
</p>
				<h2>Defending the station</h2>
				<p>The Kraylors have an large station in this area. So let us set up some defence.</p>
				<p>We'll create 2 Cruisers and a Dreadnought in direct defence of the station. This means we need a reference to the station.</p>
				<p class="code">
    -- Grab a reference to the Kraylor station
    enemy_station = SpaceStation():setTemplate("Large Station"):setFaction("Kraylor")
    enemy_station:setPosition(-45600, -15800):setCallSign("Omega")
				</p>
				<p>With that reference, we can setup ships to defend the station</p>
				<p class="code">
    -- Create the defense for the station
    CpuShip():setShipTemplate("Cruiser"):setFaction("Kraylor"):setPosition(-45000, -14000):orderDefendTarget(enemy_station)
    CpuShip():setShipTemplate("Cruiser"):setFaction("Kraylor"):setPosition(-46000, -14000):orderDefendTarget(enemy_station)
    CpuShip():setShipTemplate("Dreadnought"):setFaction("Kraylor"):setPosition(-46000, -18000):orderDefendTarget(enemy_station)</p>
				<p>With the defend target orders, the ship will circle around the target and attack enemies in range. You can defend any object, including another ship.</p>
				<p>For example, we can setup two extra fighters which defend the Dreadnought.</p>
				<p class="code">
    enemy_dreadnought = CpuShip():setShipTemplate("Dreadnought"):setFaction("Kraylor")
    enemy_dreadnought:setPosition(-46000, -18000):orderDefendTarget(enemy_station)
    CpuShip():setShipTemplate("Fighter"):setFaction("Kraylor"):setPosition(-46000, -18000):orderDefendTarget(enemy_dreadnought)
    CpuShip():setShipTemplate("Fighter"):setFaction("Kraylor"):setPosition(-46000, -18000):orderDefendTarget(enemy_dreadnought)</p>
				<h2>You lose! (Or, you should be able to)</h2>
				<p>Right now, when you are killed, or kill all enemies. Nothing happens. So let us fix this. First off, we want to end the game with defeat if we lose the player ship.</p>
				<p>Because of this, we need a reference to the player ship that we created.</p>
				<p class="code">    player = PlayerSpaceship():setFaction("Human Navy"):setShipTemplate("Player Cruiser")
    player:setPosition(22400, 18200):setCallSign("TheEpsilon")</p>
				<p>Next, we'll ve finally using the <b>update</b> function that has been empty so far. The code in the update function is run every game tick, so about 60 times per second.</p>
				<p>So in there we want to check if the player is destroyed, and if the ship is, end the game.</p>
				<p class="code">
function update(delta)
    --When the player ship is destroyed, call it a victory for the Kraylor
    if not player:isValid() then
        victory("Kraylor")
    end
end
				</p>
				<p>Pretty simple right? And naturally, you can setup victory for the player the same way, but then with the destruction of the enemy station.</p>
				<p class="code">
    --When the kraylor station is destroyed, call it a victory for the Kraylor
    if not enemy_station:isValid() then
        victory("Human Navy")
    end
				</p>
				<h2>Tips&amp;tricks - More about ships.</h2>
				<p>For a full list of possible ship templates, you can check the shipTemplates.lua file. This file contains all the definitions for all the possible ship types.</p>
				<p>Next to orderRoaming and orderDefendTarget, there is also:</p>
				<ul>
					<li><b>orderIdle()</b> Default state, do nothing, do not move or attack.</li>
					<li><b>orderStandGround()</b> Ship does not fly away, but does try to hit you when you are in range. Will fire missiles as well as beam weapons.</li>
					<li><b>orderDefendLocation(x, y)</b> Fly towards the given position, and defend it from attacks.</li>
					<li><b>orderFlyFormation(target, offset_x, offset_y)</b> Fly in formation with the target. Stay at a certain offset. When enemies are near your target, engage them. Gives fleet behaviour.</li>
					<li><b>orderFlyTowards(x, y)</b> Fly towards a target position, but do attack enemies when they come too close.</li>
					<li><b>orderFlyTowardsBlind(x, y)</b> Fly towards a target position, and ignore everything else.</li>
					<li><b>orderAttack(target)</b> Attack a specific target.</li>
					<li><b>orderDock(target)</b> Dock with an target. Can be used to make computer controlled ships dock with stations.</li>
				</ul>
				<h2>Final script for today.</h2>
				<p>We end off with the complete script for reference.</p>
				<p class="code">-- Name: Beacon of light - Day 2
-- Description: The beacon of light scenario, build from the series at EmptyEpsilon.org

-- Init is run when the scenario is started. Create your initial
function init()
    -- Create the main ship for the players.
    player = PlayerSpaceship():setFaction("Human Navy"):setShipTemplate("Player Cruiser")
    player:setPosition(22400, 18200):setCallSign("TheEpsilon")

    SpaceStation():setTemplate("Small Station"):setFaction("Human Navy"):setPosition(23500, 16100):setCallSign("Research-1")
    SpaceStation():setTemplate("Medium Station"):setFaction("Human Navy"):setPosition(-25200, 32200):setCallSign("Orion-5")
    -- Grab a reference to the Kraylor station
    enemy_station = SpaceStation():setTemplate("Large Station"):setFaction("Kraylor")
    enemy_station:setPosition(-45600, -15800):setCallSign("Omega")
    SpaceStation():setTemplate("Small Station"):setFaction("Independent"):setPosition(9100,-35400):setCallSign("Refugee-X")
    
    --Nebula that hide the enemy station.
    Nebula():setPosition(-43300,  2200)
    Nebula():setPosition(-34000,  -700)
    Nebula():setPosition(-32000,-10000)
    Nebula():setPosition(-24000,-14300)
    Nebula():setPosition(-28600,-21900)
    
    --Random nebulae in the system
    Nebula():setPosition( -8000,-38300)
    Nebula():setPosition( 24000,-30700)
    Nebula():setPosition( 42300,  3100)
    Nebula():setPosition( 49200, 10700)
    Nebula():setPosition(  3750, 31250)
    Nebula():setPosition(-39500, 18700)

    --Create 50 Asteroids
    for asteroid_counter=1,50 do
        Asteroid():setPosition(random(-10000, -5000), random(-10000, 30000))
        VisualAsteroid():setPosition(random(-10000, -5000), random(-10000, 30000))
    end
	
    -- Create the defense for the station
    CpuShip():setShipTemplate("Cruiser"):setFaction("Kraylor"):setPosition(-44000, -14000):orderDefendTarget(enemy_station)
    CpuShip():setShipTemplate("Cruiser"):setFaction("Kraylor"):setPosition(-47000, -14000):orderDefendTarget(enemy_station)
    enemy_dreadnought = CpuShip():setShipTemplate("Dreadnought"):setFaction("Kraylor")
    enemy_dreadnought:setPosition(-46000, -18000):orderDefendTarget(enemy_station)
    CpuShip():setShipTemplate("Fighter"):setFaction("Kraylor"):setPosition(-46000, -18000):orderDefendTarget(enemy_dreadnought)
    CpuShip():setShipTemplate("Fighter"):setFaction("Kraylor"):setPosition(-46000, -18000):orderDefendTarget(enemy_dreadnought)
	
    --Small Kraylor strike team, starting in the nebula at G5
    CpuShip():setShipTemplate("Cruiser"):setFaction("Kraylor"):setPosition(3550, 31250):orderRoaming()
    CpuShip():setShipTemplate("Cruiser"):setFaction("Kraylor"):setPosition(3950, 31250):orderRoaming()
end

function update(delta)
    --When the player ship is destroyed, call it a victory for the Kraylor
    if not player:isValid() then
        victory("Kraylor")
    end
    --When the kraylor station is destroyed, call it a victory for the Kraylor
    if not enemy_station:isValid() then
        victory("Human Navy")
    end
end
</p>
			</div>
			<div id="scripting-tabs-3">
			</div>
		</div>
	</div>
	<div id="tabs-download">
		<h2>Download</h2>
		<p id="downloads-info">Downloads for Windows and Android are available at: <a href="http://software.ultimaker.com/EmptyEpsilon/">[download list]</a></p>
		<p>You need to use the same version for all users or else the game will not work correctly. Mixing different versions is not supported.</p>
		<p>Storage for downloads provided by <a href="http://ultimaker.com/">Ultimaker</a>. Many thanks that they allow us to use their build and download servers. If you are concidering an 3D printer, buy from Ultimaker, they are nice people.</p>
		<h2>Source</h2>
		<p>The sourcecode is up on github at:</p>
		<p><a href="https://github.com/daid/EmptyEpsilon">https://github.com/daid/EmptyEpsilon</a> (Game source code)</p>
		<p><a href="https://github.com/daid/SeriousProton">https://github.com/daid/SeriousProton</a> (Engine source code)</p>
	</div>
</div>

<script src="jquery.min.js"></script>
<script src="jquery-ui.min.js"></script>
<script>
function mapHash()
{
	var parts = location.hash.substr(1).split(',');
	var data = {}
	parts.forEach(function(part)
	{
		var info = part.split("=");
		if (info.length > 1)
			data[info[0]] = info[1];
	});
	return data;
}

function updateHashFromTab(event, ui)
{
	var target_id = event.target.id;
	var target_index = $(event.target).tabs("option", "active");
	
	var data = mapHash();
	data[target_id] = target_index;
	var hash = [];
	for(var key in data)
	{
		hash.push(key + "=" + data[key])
	}
	location.hash = hash.join(",");
}

$(function() {
	$("#tabs").tabs({activate: updateHashFromTab});
	$("#station-tabs").tabs({activate: updateHashFromTab});
	$("#running-tabs").tabs({activate: updateHashFromTab});
	
	$("#scripting-tabs").tabs({activate: updateHashFromTab}).addClass("ui-tabs-vertical ui-helper-clearfix");
	$("#scripting-tabs ul").removeClass("ui-widget-header");
	$("#scripting-tabs li" ).removeClass("ui-corner-top").addClass("ui-corner-left");
	$("#scripting-tabs div" ).removeClass("ui-corner-bottom");
	
	$.each($("img"), function(idx, element)
	{
		element = $(element)
		if (element.attr('src').indexOf('screenshots/') != 0)
			return true;
		element.css('width', '200px');
		var wrapper = $("<span style='position: relative'>");
		var button = $("<span class='ui-icon ui-icon-circle-zoomin' style='position: absolute; bottom: 6px; right: 4px;'></span>");
		scale_function = function() {
			if (element.css('width') == '200px')
				element.animate({'width': element[0].naturalWidth + 'px'}, 500);
			else
				element.animate({'width': '200px'}, 500);
		}
		element.click(scale_function);
		button.click(scale_function);
		element.wrap(wrapper);
		element.after(button);
	});
	$.each($(".code"), function(idx, element)
	{
		element = $(element);
		var lines = element.html().split("\n");
		var output = [];
		lines.forEach(function(line) {
			if (line.indexOf("--") > -1)
			{
				n = line.indexOf("--");
				line = line.substr(0, n) + "<span style='color: green'>" + line.substr(n) + "</span>";
			}
			output.push(line);
		});
		while(output.length > 0 && output[0].trim() == "")
			output.shift()
		while(output.length > 0 && output[output.length - 1].trim() == "")
			output.pop()
		element.html(output.join("\n"));
	})
	
	var hashData = mapHash()
	for(var key in hashData)
	{
		$("#" + key).tabs("option", "active", hashData[key]);
	}
	
	$.get("http://software.ultimaker.com/ee_files.php", function(data) {
		var files = {}
		for(var idx in data)
		{
			var f = data[idx]
			var version = f.match("[0-9][0-9][0-9][0-9]\.?[0-9][0-9]\.?[0-9][0-9]");
			if (version.length == 1)
			{
				var os = "";
				version = parseInt(version[0].replace(/\./g, ""));
				if (f.toLowerCase().indexOf("win32") > -1 || f.toLowerCase().indexOf("windows") > -1)
					os = "windows";
				if (f.toLowerCase().indexOf("android") > -1)
					os = "android";
				if (f.toLowerCase().indexOf("osx") > -1 || f.toLowerCase().indexOf("macos") > -1)
					os = "osx";
				
				if (os != "")
				{
					if (files[os] == undefined)
						files[os] = {}
					files[os][version] = f;
				}
			}
		}
		
		var html = '<table><tr><th>OS<th>File<th>version';
		var part2 = '<tr><th>OS<th>File<th>version'
		for(var os in files)
		{
			var versions = [];
			for(var version in files[os])
				versions.push(version);
			versions.sort();
			versions.reverse();
			
			for(var idx in versions)
			{
				var version = versions[idx];
				var vers = version.substr(0, 4) + "-" + version.substr(4, 2) + "-" + version.substr(6, 2);
				var url = 'http://software.ultimaker.com/EmptyEpsilon/' + files[os][version]
				row = '<tr><td><a href="' + url + '"><img src="images/os_' + os + '.svg" width="24"></a><td><a href="' + url + '">' + files[os][version] + '</a><td>' + vers;
				if (idx == 0)
					html += row
				else
					part2 += row
			}
		}
		html += part2;
		html += '</table>';
		$('#downloads-info').html(html);
	}, "json");
});
</script>
</body>
</html>
