<!doctype html>
<html lang="us">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>EmptyEpsilon - Multiplayer Spaceship Bridge Simulator</title>
	<link href="jquery-ui.min.css" rel="stylesheet">
	<link href="main.css" rel="stylesheet">
	<link rel="shortcut icon" href="favicon.ico">
	<link href='https://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
	<link href="https://file.myfontastic.com/mVfeXmXgbKVhLxnHWexUtb/icons.css" rel="stylesheet">
	<link href="magnific-popup.css" rel="stylesheet">
</head>
<body>

<h1 class="logo">EmptyEpsilon</h1>
<div id="tabs">
	<ul>
		<li><a href="#tabs-info"><span class="button-text">Info</span></a></li>
		<li><a href="#tabs-media"><span class="button-text">Media</span></a></li>
		<li><a href="#tabs-running"><span class="button-text">Running a game</span></a></li>
		<li><a href="#tabs-stations"><span class="button-text">Stations</span></a></li>
		<li><a href="#tabs-scripting"><span class="button-text">Mission scripting</span></a></li>
		<li><a href="#tabs-download"><span class="button-text">Download</span></a></li>
		<li><a href="#tabs-forums"><span class="button-text">Forums</span></a></li>
	</ul>
	<div id="tabs-info">
		<h2>What is it?</h2>
		<p>EmptyEpsilon is a spaceship bridge simulator game. It's fully open source, so it can be modified in any way people wish.</p>

		<h2>What does this mean?</h2>
		<p>EmptyEpsilon places you in the roles of a spaceship's bridge officers, like those seen in <a href="http://en.wikipedia.org/wiki/Star_Trek">Star Trek</a>. While you can play EmptyEpsilon alone or with friends, the best experience involves 6 players working together on each ship.</p>
		<p>Each officer fills a unique role: Captain, Helms, Weapons, Relay, Science, and Engineering. Except for the Captain, each officer operates part of the ship through a specialized screen. The Captain relies on their trusty crew to report information and follow orders.</p>

		<h2>Like Artemis Spaceship Bridge Simulator?</h2>
		<p><a href="http://artemis.eochu.com/">Artemis Spaceship Bridge Simulator</a> was the inspiration for EmptyEpsilon. It's pretty good as a bridge simulator, but we had some issues with it that we wanted to fix. Since Artemis isn't open source, our only solution was to start over by ourselves.</p>
		<p>For example, the "comms" station of Artemis is pretty limited and can be boring for the player. The game could fall out of sync, confusing the players. Also, its Game Master screen didn't do everything that we wanted.</p>
		<p>All in all, Artemis is a nice game. We wrote our own to be able to implement new features and extensibility.</p>

		<h2>Contact</h2>
		<p>The best place to talk about bridge simulation and EmptyEpsilon is the <a href="http://bridgesim.net/">Starship Bridge Simulation Network</a>. We regularly check this forum, and post updates and battle logs of our space adventures.</p>
		<p>The main developers of EmptyEpsilon go by the names of <a href="https://github.com/daid/">Daid</a> and <a href="https://github.com/nallath/">Nallath</a>.</p>

		<h2>Donations</h2>
		<p>EmptyEpsilon is a 100% free game. We made this because we wanted to play the game we envisioned for ourselves, but we are not artists, so we need to buy the game's 3D models.</p>
		<p>We are raising money to buy: <a href="http://www.turbosquid.com/Search/Artists/Angryfly">Not sure yet (we still have cash reserve)</a></p>
		<p><form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
		<input type="hidden" name="cmd" value="_s-xclick">
		<input type="hidden" name="encrypted" value="-----BEGIN PKCS7-----MIIHLwYJKoZIhvcNAQcEoIIHIDCCBxwCAQExggEwMIIBLAIBADCBlDCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb20CAQAwDQYJKoZIhvcNAQEBBQAEgYCVbnpD7hW71fSbbk1Y56Hj0wum2SY7smaaImtwZ2DgsZ9QasKO1eRNSzIM8iTgzm9mTtnC/RmyqngDwGFJb6AS2xbh/t6FgDts1it+Kgx4ogQYHWoCOHIhMyWK/VlUf47uQAYBI82SsFls5HWn+5pc+hqKT8EXfELa3Y6SMSjs3zELMAkGBSsOAwIaBQAwgawGCSqGSIb3DQEHATAUBggqhkiG9w0DBwQIJGU9R1IVGpyAgYjBx33ek6s/WoGL96486h44OEh5HcSk3LS9sRP1owxuaOm4POUYO9uNmg5MkRZBDtnN3oGMj5AvJVwK5zwiUh303rFMldoM6zO0bcHGDB8YS8cjzxAixnV6lDDHKzkWsm4xtSwwzQVZ7LFhOUsUh2NUm1Vhgkem7CaqV0SoJrgEw3dvBH660m5eoIIDhzCCA4MwggLsoAMCAQICAQAwDQYJKoZIhvcNAQEFBQAwgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tMB4XDTA0MDIxMzEwMTMxNVoXDTM1MDIxMzEwMTMxNVowgY4xCzAJBgNVBAYTAlVTMQswCQYDVQQIEwJDQTEWMBQGA1UEBxMNTW91bnRhaW4gVmlldzEUMBIGA1UEChMLUGF5UGFsIEluYy4xEzARBgNVBAsUCmxpdmVfY2VydHMxETAPBgNVBAMUCGxpdmVfYXBpMRwwGgYJKoZIhvcNAQkBFg1yZUBwYXlwYWwuY29tMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDBR07d/ETMS1ycjtkpkvjXZe9k+6CieLuLsPumsJ7QC1odNz3sJiCbs2wC0nLE0uLGaEtXynIgRqIddYCHx88pb5HTXv4SZeuv0Rqq4+axW9PLAAATU8w04qqjaSXgbGLP3NmohqM6bV9kZZwZLR/klDaQGo1u9uDb9lr4Yn+rBQIDAQABo4HuMIHrMB0GA1UdDgQWBBSWn3y7xm8XvVk/UtcKG+wQ1mSUazCBuwYDVR0jBIGzMIGwgBSWn3y7xm8XvVk/UtcKG+wQ1mSUa6GBlKSBkTCBjjELMAkGA1UEBhMCVVMxCzAJBgNVBAgTAkNBMRYwFAYDVQQHEw1Nb3VudGFpbiBWaWV3MRQwEgYDVQQKEwtQYXlQYWwgSW5jLjETMBEGA1UECxQKbGl2ZV9jZXJ0czERMA8GA1UEAxQIbGl2ZV9hcGkxHDAaBgkqhkiG9w0BCQEWDXJlQHBheXBhbC5jb22CAQAwDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0BAQUFAAOBgQCBXzpWmoBa5e9fo6ujionW1hUhPkOBakTr3YCDjbYfvJEiv/2P+IobhOGJr85+XHhN0v4gUkEDI8r2/rNk1m0GA8HKddvTjyGw/XqXa+LSTlDYkqI8OwR8GEYj4efEtcRpRYBxV8KxAW93YDWzFGvruKnnLbDAF6VR5w/cCMn5hzGCAZowggGWAgEBMIGUMIGOMQswCQYDVQQGEwJVUzELMAkGA1UECBMCQ0ExFjAUBgNVBAcTDU1vdW50YWluIFZpZXcxFDASBgNVBAoTC1BheVBhbCBJbmMuMRMwEQYDVQQLFApsaXZlX2NlcnRzMREwDwYDVQQDFAhsaXZlX2FwaTEcMBoGCSqGSIb3DQEJARYNcmVAcGF5cGFsLmNvbQIBADAJBgUrDgMCGgUAoF0wGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMTUwMjE5MDg1MzE1WjAjBgkqhkiG9w0BCQQxFgQUBJPj1UZDDW3rRUMIqXiSF5BJ9/IwDQYJKoZIhvcNAQEBBQAEgYB3mZpC9BJNH+rL045uUa1K7lJZ0yNulQG9CP/MKJLpQT9RMuRR0x30PIWk0uZxMXTuib95aSrLGQkWM41/J8F+gSLDsPKQ70b1oaQuGNilOBMTQM8+u2XECFNc4RVj+/3X3yg31ZjyKeZOqcEGpqDdCnNLMx6LOuxPJGXVoqtpYw==-----END PKCS7-----">
		<input type="image" src="https://www.paypalobjects.com/webstatic/en_US/btn/btn_donate_92x26.png" border="0" name="submit" alt="PayPal â€“ The safer, easier way to pay online.">
		<img alt="" border="0" src="https://www.paypalobjects.com/nl_NL/i/scr/pixel.gif" width="1" height="1">
		</form></p>

		<h2>Previous contributions</h2>
		<!-- Outstanding cash from: Troy Hall and Kevin Primm -->
		<p>Thanks to the contributions of Daniel Ginat, we managed to buy: <a href="http://www.turbosquid.com/3d-models/maya-5-small-frigates/828573">more frigate models</a>.</p>
		<p>Thanks to the generous contribution of Serge Wroclawski, we managed to buy: <a href="http://www.turbosquid.com/3d-models/max-5-battleship-destroyers-upgraded/707660">more battleship models</a>.</p>
		<p>Thanks to the contributions of MadKat and Daid, we managed to buy: <a href="http://www.turbosquid.com/3d-models/4-space-station-max/679444">larger 3D station models</a>.</p>
	</div>

	<div id="tabs-media">
		<div class="gallery">
			<div class="gallery-image">
				<a class="image-link" href="screenshots/mainscreen.png"><img src="screenshots/mainscreen.png"></a>
				<p>Main screen view from a cruiser near a station being attacked by two enemy cruisers.</p>
			</div>
			<div class="gallery-image">
				<a class="image-link" href="screenshots/helms.png"><img src="screenshots/helms.png"></a>
				<p>View of the helms officer's screen, which controls the ship's movement.</p>
			</div>
			<div class="gallery-image">
				<a class="image-link" href="screenshots/weapons.png"><img src="screenshots/weapons.png"></a>
				<p>View of the weapons officer's screen, which controls the ship's weapons and shields.</p>
			</div>
			<div class="gallery-image">
				<a class="image-link" href="screenshots/engineering.png"><img src="screenshots/engineering.png"></a>
				<p>View of the engineering officer's screen, which can allocate power and repairs to the ship's subsystems.</p>
			</div>
			<div class="gallery-image">
				<a class="image-link" href="screenshots/science.png"><img src="screenshots/science.png"></a>
				<p>View of the science officer's screen, which has long-range scanners and a large database of information.</p>
			</div>
			<div class="gallery-image">
				<a class="image-link" href="screenshots/relay.png"><img src="screenshots/relay.png"></a>
				<p>View of the relay officer's screen, which can see and hail allies, share their short-range radar, and launch remote probes.</p>
			</div>
		</div>
	</div>

	<div id="tabs-running">
		<div id="running-tabs">
			<ul>
				<li><a href="#running-tabs-standard"><span class="button-text">Standard setup</span></a></li>
				<li><a href="#running-tabs-limited"><span class="button-text">Limited setup</span></a></li>
				<!--<li><a href="#running-tabs-auto"><span class="button-text">Automated setup</span></a></li>-->
				<li><a href="#running-tabs-gm"><span class="button-text">Game Master</span></a></li>
			</ul>

			<div id="running-tabs-standard">
				<p>To run a standard bridge for EmptyEpsilon, you need the following equipment:</p>
				<ul>
					<li>4-6 devices, 1 for each officer except the captain. These can be laptops, desktops, or Android devices.</li>
					<li>One big screen (large monitor, TV, or projector).</li>
					<li>A stable network. Wifi can work, but we recommend a wired LAN.</li>
					<li>If playing over the internet, voice chat is strongly recommended.</li>
				</ul>
				<p>All but 1 of the officers operate "stations" that control different parts of the ship. The last computer is for the main screen, which does not need any input and should be visible to all players.</p>
				<p>Designate 1 player as Captain, whose computer can serve as the ship's main screen. The Captain's only duty is to communicate with the other officers and tell them what they should do.</p>
				<p>The other officers each operate one of the ship's stations, which are described in the <a href="#tabs-stations">Stations tab</a>.</p>

				<h2>Running the game</h2>
				<p>After starting the game on the computer serving as the main screen, you can also configure it as the game server. The other stations can then connect to the game server as clients.</p>
				<p>After starting the server, select a scenario (we recommend the "Waves" or "Basic" scenarios for first games), then spawn a player ship for everyone to join.</p>
				<p>Everyone should select the same ship and choose their designated station. That's it! You're now in command of a fully functional spaceship.</p>

				<h2>Internet play</h2>
				<p>A crew can play EmptyEpsilon over internet connections. This means the game server needs to be accessible from the internet. The server runs on port <b>35666</b>, which needs to be open in your firewall and forwarded to your server if you are behind a router.</p>
			</div>

			<div id="running-tabs-limited">
				<p>If you don't have enough players (or stations), you can run multiple stations on a single machine by selecting multiple roles in the ship selection menu. You can then switch between stations by pressing the button in the top right of the game screen.</p>
				<p>There are also 3 special screens designed for crews of 3-4 officers: <b>Tactical</b>, <b>Engineering+</b>, and <b>Operations</b>.</p>
				<ul>
					<li><b>Tactical</b> combines helms and weapons into one station.</li>
					<li><b>Engineering+</b> takes shields activation from the weapon station.</p></li>
					<li><b>Operations</b> acts the same as the science station, but also allows for communications.</li>
				</ul>
				<p>These 3 stations can also be combined with the 5 standard stations.</p>
			</div>
			<!--
			<div id="running-tabs-auto">
				<p>TODO (You can make EmptyEpsilon auto connect to any available server on the network, and selecting a station instantly. Lowering setup time)
				</p>
			</div>
			-->
			<div id="running-tabs-gm">
				<p>A Game Master can modify scenarios on the fly by adding and removing AI-operated ships and stations, changing their configurations, placing space hazards, and communicating with player ships, all making for a more interesting and customized experience for players.</p>
				<p>Scenarios can also add special GM functions that trigger scripted events. This lets Game Masters build complex stories and intricate, dynamic situations that they can manipulate at will during gameplay. Scripting commands are covered in depth on the <a href="#tabs-scripting">Mission Scripting tab</a>.</p>
			</div>
		</div>
	</div>

	<div id="tabs-stations">
		<div id="station-tabs">
			<ul>
				<li><a href="#station-tabs-main" class="captain"><span class="button-text">Main screen/Captain</span></a></li>
				<li><a href="#station-tabs-helm" class="helms icon"><span class="icon"></span><span class="button-text">Helms</span></a></li>
				<li><a href="#station-tabs-weapons" class="weapons icon"><span class="icon"></span><span class="button-text">Weapons</span></a></li>
				<li><a href="#station-tabs-engineering" class="engineering icon"><span class="icon"></span><span class="button-text">Engineering</span></a></li>
				<li><a href="#station-tabs-science" class="science icon"><span class="icon"></span><span class="button-text">Science</span></a></li>
				<li><a href="#station-tabs-relay" class="relay icon"><span class="icon"></span><span class="button-text">Relay</span></a></li>
			</ul>
			<div id="station-tabs-main">
				<p><a class="image-link float-right" href="screenshots/mainscreen.png"><img src="screenshots/mainscreen.png"></a></p>
				<p>Without direct control of the ship, the Captain keeps the crew focused on their goal and makes tactical decisions in combat. The ship's main screen should be set up on a large monitor or projector so that all players can track their ship's status.</p>

				<h2>The Captain's tasks include:</h2>
				<ul>
					<li>Planning the next actions</li>
					<li>Co-ordinating combat tactics</li>
					<li>Preventing mutiny</li>
					<li>Setting priorities</li>
				</ul>

				<h2>Controls</h2>
				<p>There are many ways to configure the main screen and define the Captain's role. You can grant any officer's station control over the main screen, but you can also give the Captain direct control over it with these keyboard controls:</p>
				<ul>
					<li>Left mouse button: Rotate the main screen 90 degrees to the left</li>
					<li>Right mouse button: Rotate the main screen 90 degrees to the right</li>
					<li>Middle mouse button: Switch between ship, short-range radar, and long-range radar views</li>
					<li>Up key: Set main screen to forward view</li>
					<li>Down key: Set main screen to rear view</li>
					<li>Left key: Set main screen to left view</li>
					<li>Right key: Set main screen to right view</li>
					<li>Tab key: Set main screen to short-range radar view</li>
					<li>Q key: Set main screen to long-range radar view</li>
					<li>F key: Set main screen to first-person view</li>
				</ul>
				<p>Note that these controls are optional and are not necessary to play the game, but could be used in custom hardware setups. These controls are only for the main screen.</p>
				<p>A "custom" hardware setup for the Captain could be as simple as taping a 3-button mouse to an armchair.</p>
			</div>

			<div id="station-tabs-helm">
				<p><a class="image-link float-right" href="screenshots/helms.png"><img src="screenshots/helms.png"></a></p>
				<h2 class="station helms">Helms</h2>
				<p><b>Data:</b> In the upper-left corner, the Helms officer's screen displays the ship's energy (max is 1,000), current heading in degrees, and current speed in Units/minute. Below this data are two sliders.</p>
				<p><b>Engines:</b> The left slider controls the impulse engines, from -100% (full reverse) to 0% (full stop) to 100% (full ahead). The right slider controls the ship's high-speed warp or instantly teleporting jump drives, if the ship is equipped with either.</p>
				<p><b>Setting a Heading:</b> The Helms officer has a short-range radar. Pressing inside this radar sets the ship's heading in that direction. If the ship has beam weapons, the radar view includes those weapons' firing arcs to help the Helms officer keep targets in the Weapons officer's sights.</p>
				<p><b>Jumping:</b> A jump drive teleports the ship across the specified distance along its current heading. The ship's impulse engines shut down, and after a countdown the ship disappears from its position and instantly reappears at its destination. Each jump consumes energy, with longer jumps consuming more energy. A standard jump takes 10 seconds to initiate, but depending on how much power is allocated to the drive (and how damaged it is), the time to power the jump might vary.</p>
				<p><b>Warping:</b> A warp drive propels the ship straight ahead several times faster than impulse engines, but drain energy at a much faster rate. A warping ship can still collide with hazards like asteroids and mines, but a ship can enter warp very quickly for rapid escapes and advanced tactical maneuvers.</p>
				<p><b>Combat Maneuvers:</b> For ships capable of performing combat maneuvers, the Helms screen includes up to two special sliders at the bottom right. The vertical slider rapidly increases the ship's forward speed above its maximum cruising speed, but generates lots of heat in the impulse engines and consumes energy quickly. The horizontal slider moves the ship laterally but can quickly overheat the maneuvering system. Combat maneuvers can be exhausted but recharge over time.</p>
				<p><b>Docking:</b> The Helms officer can dock with a friendly or neutral station (or in some cases, a larger ship) when it is within 1U. While docked, the ship can't engage its engines or fire weapons, but its energy recharges faster, repairs take less time, the ship's supply of probes is replenished, and the Relay officer can request missile weapon rearmament. The Helms officer is also responsible for undocking the ship.</p>
				<p><b>Retrieving Objects:</b> The Helms officer is also responsible for piloting the ship into supply drops and other retrievable items to retrieve them.</p>
			</div>

			<div id="station-tabs-weapons">
				<p><a class="image-link float-right" href="screenshots/weapons.png"><img src="screenshots/weapons.png"></a></p>
				<h2 class="station weapons">Weapons</h2>
				<p><b>Data:</b> In the upper-left corner, the Weapons officer's screen displays the ship's energy (max is 1,000), and the strength of its front and rear shields.</p>
				<p><b>Targeting:</b> To fire beam weapons and target guided missile weapons, the Weapons officer can select ships on the screen's short-range radar.</p>
				<p><b>Missiles:</b> Missiles are one of a ship's most destructive weapons. Before a missile can be fired, the Weapons officer selects it, then selects one of the weapon tubes to load it. Loading and unloading weapon tubes takes time. (Mines are also be loaded into a special type of weapon tube.) Weapon tubes face a specific direction, and some ships only have tubes on certain sides of a ship, making cooperation with the helms officer's maneuvers especially important.</p>
				<p>To fire a missile, the Weapons officer presses a loaded missile tube. Except for HVLIs, missiles home in on any target selected by the Weapons officer. Otherwise, the missile is dumb-fired and flies in a straight line from its tube. The Weapons officer can choose to lock the tube's aim onto a target or click the Lock button to the top right of the radar to manually angle a shot.</p>
				<p>There are several types of missile weapons:</p>
				<ul>
					<li><b>Homing:</b> A simple, high-speed missile with a small warhead.</li>
					<li><b>Nuke:</b> A powerful homing missile that deal tremendous damage to all ships within 1U of its detonation.</li>
					<li><b>Electromagentic Pulse (EMP):</b> A homing missile that deal powerful damage to the shields of all ships within 1U of detonation, but don't damage physical systems or hulls.</li>
					<li><b>High-velocity Lead Impactor (HVLI):</b> A group of 5 simple lead slugs fired in a single burst at extremely high velocity. These bolts don't home in on an enemy target.</li>
					<li><b>Mine:</b> A powerful, stationary explosive that detonates when a ship moves to within 1U of it. The explosion damages all objects within a 1U radius.</li>
				</ul>
				<p><b>Beam Weapons:</b> The location and range of beam weapons are indicated by red firing arcs originating from the players' ship. After the Weapons officer selects a target, the ship's beam weapons will automatically fire at that target when it is inside a beam's firing arc. The officer can use the frequency selectors at the bottom right, along with data about a target's shield frequencies provided by the <a href="#tabs-science">Science officer</a>, to remodulate beams to a frequency that deals more damage. Note that you can change the beam frequency instantaneously.</p>
				<p>Beam weapons fire at a target's hull by default, but the Weapons officer can also target specific subsystems to disable an enemy. If you simply wish to destroy an enemy, however, it's best left on hull.</p>
				<p><b>Shields:</b> The Weapons officer is responsible for activating the ship's shields and modulating their frequency. It might be tempting to keep the shields up at all times, but they drain significantly more power when active. Certain shield frequencies are especially resistant to certain beam frequencies, which can also be detected in targets by the Science officer. Unlike beam weapons, however, remodulating the shields' frequency brings them offline for several seconds and leaves the ship temporarily defenseless.</p>
			</div>

			<div id="station-tabs-engineering">
				<p><a class="image-link float-right" href="screenshots/engineering.png"><img src="screenshots/engineering.png"></a></p>
				<h2 class="station engineering">Engineering</h2>
				<p><b>Power Management:</b> The Engineering officer can route power to systems by selecting a system and moving its power slider. Giving a system more power increases its output. For instance, an overpowered reactor produces more energy, overpowered shields reduce more damage and regenerate faster, and overpowered impulse engines increase its maximum speed. Overpowering a system (above 100%) also increases its heat generation and, except for the reactor, its energy draw. Underpowering a system (below 100%) likewise reduces heat output and energy draw.</p>
				<p><b>Coolant Management:</b> By adding coolant to a system, the Engineering officer can reduce its temperature and prevent the system from damaging the ship. The ship has an unlimited reseve of coolant, but a finite amount of coolant can be applied at any given time, so the Engineering officer must budget how much coolant each system can receive. A system's change in temperature is indicated by white arrows in the temperature column. The brighter an arrow is, the larger the trend.</p>
				<p><b>Repairs:</b> When systems are damaged by being shot, colliding with space hazards, or overheating, the Engineering officer can dispatch repair crews to the system for repairs. Each systems has a damage state between -100% to 100%. Systems below 100% function suboptimally, in much the same way as if they are underpowered. Once a system is at or below 0%, it completely stops functioning until it is repaired. Systems can be repaired by sending a repair crew to the room containing the system. Hull damage affects the entire ship, and repair crews can always repair it, but hull repairs progress very slowly.</p>
			</div>

			<div id="station-tabs-science">
				<p><a class="image-link float-right" href="screenshots/science.png"><img src="screenshots/science.png"></a></p>
				<h2 class="station science">Science</h2>
				<p><b>Long-range Radar:</b> The Science station has a long-range radar that can locate ships and objects at a distance of up to 25U. The Science officer's most important task is to report the sector's status and any changes within it. On the edge of the radar are colored bands of signal interference that can vaguely suggest the presence of objects or space hazards even further from the ship, but it's up to the Science officer to interpret them.</p>
				<p><b>Scanning:</b> You can scan ships to get more information about them. The Science officer must align two of the ship's scanning frequencies with a target to complete the scan. Most ships are unknown (gray) to your crew at the start of a scenario and must be scanned before they can be identified as a friend (green), foe (red), or neutral (blue). A scan also identifies the ship's type, which the Science officer can use to identify its capabilities in the station's database.</p>
				<p><b>Deep Scans:</b> A second, more difficult scan yields more information about the ship, including its shield and beam frequencies. The Science officer must align both the frequency and modulation of each scan type to complete a deep scan. The helms and weapons screen can also see the firing arcs of deep-scanned ships, which help them guide your ship from being shot by their beams.</p>
				<p><b>Nebulae:</b> Nebulae block the ship's long-range scanner. The Science officer cannot see what's inside or behind them, and while in a nebula the ship's radars cannot detect what's outside of it. These traits make nebulae ideal places to hide for repairs or stage an ambush. To avoid surprises around nebulae, relay information about where you can and cannot see objects to both the Captain and the Relay officer.</p>
				<p><b>Probe View:</b> The Relay officer can launch probes and link one to the Science station. The Science officer can view the probe's short-range sensor data to scan ships within its range, even if the probe is far from the ship's long-range scanners or in a nebula.</p>
				<p><b>Database:</b> The Science officer can access the ship's database of all known ships, as well as data about weapons and space hazards. This can be vital when assessing a ship's capabilities without a deep scan, or for help navigating a black hole, wormhole, or other anomaly.</p>
			</div>

			<div id="station-tabs-relay">
				<p><a class="image-link float-right" href="screenshots/relay.png"><img src="screenshots/relay.png"></a></p>
				<h2 class="station relay">Relay</h2>
				<p><b>Sector Map:</b> The Relay station can view a map of the sector, including space hazards and ships within short-range scanner range (5U). It can also see the short-range sensor data around other friendly ships and stations, potentially spotting distant ships before the science station does. The Relay officer cannot scan ships, however.</p>
				<p><b>Probes:</b> The Relay officer can launch up to 8 high-speed probes to any point in the sector. These probes fly toward a location and transmit short-range sensor data to the ship for 10 minutes. Probes work inside nebulae, and thus are powerful tools when faced with an area blocked by nebula. The Relay officer can also link a probe's sensors to the Science station, which lets the Science officer scan ships within the probe's sensor range even if the probe is beyond the ship's long-range scanners. Probes cannot be retrieved and can be destroyed by enemies; your ship's stock of probes can be replenished only by docking at a station.</p>
				<p><b>Waypoints:</b> The Relay officer can set waypoints around the sector. These waypoints appear on the Helms officer's short-range scanner and can guide the ship toward a destination or on a specific route through space. Waypoints are also necessary when requesting aid from friendly stations.</p>
				<p><b>Communications:</b> The Relay officer can open communications with stations and other ships. Friendly ships hailed by the Relay officer can take orders, and friendly stations can dispatch backup and supply ships. While your ship is docked at a station, the Relay officer can request rearmament of the ship's missiles and mines. Some of these requests can cost some of your crew's reputation, which is also tracked by the Relay station.</p>
			</div>
		</div>
	</div>

	<div id="tabs-scripting">
		<div id="scripting-tabs">
			<ul>
				<li><a href="#scripting-tabs-0"><span class="button-text">0: Tools &amp; basics</span></a></li>
				<li><a href="#scripting-tabs-1"><span class="button-text">1: Building a universe</span></a></li>
				<li><a href="#scripting-tabs-2"><span class="button-text">2: Death &amp; destruction</span></a></li>
				<li><a href="#scripting-tabs-3"><span class="button-text">3: We are on a mission!</span></a></li>
			</ul>
			<div id="scripting-tabs-0">
				<h2>About this series</h2>
				<p>This series documents the development of the EmptyEpsilon scenario <b>Beacon of Light</b>, which is included with the game.</p>
				<p>EmptyEpsilon uses scenarios scripted in the <a href="http://www.lua.org">Lua scripting language</a>, which allows for many types of scenarios: basic sandboxes, story-driven campaigns, randomized enemies, and even dynamic branching dialogue. These scenarios are located in the "scripts" folder where EmptyEpsilon is installed.</p>
				<p>The Beacon of Light scenario begins with instructions for the players to follow, then a series of challenges for them to overcome.</p>
				<p>The scenario scripting system can be used to create even more complex scenarios, but this guide won't cover such features. All of the scenarios are viewable and editable, however, and you can look at the "Waves" scenario in the scripts folder to see an example of complex randomized events. If you downloaded the official EmptyEpsilon build or compiled it yourself, it also comes with a scripting guide that lists the available functions.</p>
				<p>You can follow the first parts of this guide even if you have little or no programming knowledge. Later sections cover more advanced topics.</p>
				<h2>Tools</h2>
				<p>For scenario development, you need a basic text editor. While Windows Notepad can work, I highly recommend something more advanced.</p>
				<p>There are many options, including these free editors:</p>
				<ul>
					<li><a href="http://www.pnotepad.org/">Programmer's Notepad</a> (Windows)</li>
					<li><a href="http://www.sublimetext.com/">Sublime Text</a> (Windows, OS X, Linux)</li>
					<li><a href="https://atom.io/">Atom</a> (Windows, OS X, Linux)</li>
					<li><a href="https://notepad-plus-plus.org/">Notepad++</a> (Windows)</li>
				</ul>
				<p>I use Programmer's Notepad, but any of these editors will do.</p>
				<h2>1. Setting up the scenario file</h2>
				<p>We'll start with an empty scenario as a template.</p>
				<p>Open your text editor and enter the following code:</p>
				<p class="code">
-- Name: Beacon of light series
-- Description: The beacon of light scenario, build from the series at EmptyEpsilon.org.
--- Near the far outpost of Orion-5, Exuari attacks are increasing. A diplomat went missing, and your mission will start with recovering him.
-- Type: Mission

-- Init is run when the scenario is started. Create your initial world
function init()
    -- Create the main ship for the players.
    player = PlayerSpaceship():setFaction("Human Navy"):setTemplate("Atlantis")
end

function update(delta)
end
				</p>
				<p>Save this file as <b>scenario_99_tutorial.lua</b> in the folder <b>EmptyEpsilon/scripts</b>.</p>
				<p>Open EmptyEpsilon and start a new server. Your scenario should be at the bottom of the list. Select the scenario and start it, and notice that there a ship for the players is already present.</p>
				<h2>Tips &amp; Tricks</h2>
				<ul>
				    <li><p>The file must start with <b>scenario_</b> and must be located in the <b>scripts</b> folder for EmptyEpsilon to recognize it as a scenario.</p></li>
				    <li><p>The number in the scenario filename sets the order in which EmptyEpsilon shows the scenarios. The final part of the filename is for reference only.</p></li>
				    <li><p>The scenario name and description displayed in the game are set by the <b>-- Name:</b> and <b>-- Description:</b> lines at the beginning of the scenario file. For multi-line descriptions, each line should immediately follow the previous line and start with three dashes ---.</p></li>
				    <li><p>Other lines starting with a double dash -- are comment lines in the scenario script that you can use for your own reference. The game ignores them.</p></li>
				    <li><p>To quickly examine the scenario, you can use the Game Master screen listed with the Alternative Options on the ship selection menu. This lets you view and modify the entire game world with ease.</p></li>
				</ul>
			</div>
			<div id="scripting-tabs-1">
				<h2>Building a universe</h2>
				<p>Now that you have setup a basic script and know how to save and run it, let's populate the universe a bit more.</p>
				<p>First, let's fill it with some stations, and then add some nebulae and asteroids.</p>
				<h2>Adding stations</h2>
				<p>The only thing in our universe is the player ship. This doesn't make for a very interesting universe, so let's add some space stations that they can dock and interact with.</p>
				<p>When looking at your scenario from the Game Master screen, the starting point is located at the top left corner of sector F5. These coordinates are "0, 0", with the X coordinate first and the Y coordinate second. If you click on the player ship on the Game Master screen, you can see its coordinates in the top left corner.</p>
				<p>Note as you move up/north/on heading 0, your Y coordinate <b>decreases</b>; locations north of the starting point have a <b>negative</b> Y coordinate. Moving right/east/on heading 90 <b>increases</b> your X coordinate. Also note that in-game distances are measured in units (U), while scripts measure distances in milliunits -- 1U in the game is equal to 1000 in a script. See <a href="info_images/sector_positions.png">this image</a> for an example.</p>
				<p>Add the following code after the creation of the player ship:</p>
				<p class="code">
SpaceStation():setTemplate("Small Station"):setFaction("Human Navy"):setPosition(23500, 16100)
				</p>
				<p>This line places a small Human Navy station 23.5U (23500) to the right of the starting point at sector F5, and 16.1U (16100) down from the starting point. Since each sector is a 20U square, this places the station in sector F6. The player ship also belongs to the Human Navy faction, so the station will be friendly to the players.</p>
				<p>Next, add these lines to add three more stations:</p>
				<p class="code">
SpaceStation():setTemplate("Medium Station"):setFaction("Human Navy"):setPosition(-25200, 32200)
SpaceStation():setTemplate("Large Station"):setFaction("Exuari"):setPosition(-45600, -15800)
SpaceStation():setTemplate("Small Station"):setFaction("Independent"):setPosition(9100,-35400)
				</p>
				<p>This adds another friendly station in sector G3 (25.2U left and 32.2U down from the starting point), a large enemy Exuari station in sector E2 (45.6U left and 15.8U up from the starting point), and a small neutral station in sector D5 (9.1U right and 35.4U up from the starting point).</p>
				<p>Now, we want the player to start closer to the small friendly station. So we set the player position near the small station.</p>
				<p class="code">
PlayerSpaceship():setFaction("Human Navy"):setShipTemplate("Atlantis"):setPosition(22400, 16200)
				</p>
				<h2>Creating nebulae</h2>
				<p>Nebulae are interesting additions to a universe. They block a 5U circle on long-range radar as well as the space behind it, which gives players and enemies room to hide and provide interesting tactical options to the game.</p>
				<p>Let's surround the enemy station with some nebulae so that it's shielded from sensors.</p>
				<p class="code">
--Nebula that hide the enemy station.
Nebula():setPosition(-43300,  2200)
Nebula():setPosition(-34000,  -700)
Nebula():setPosition(-32000,-10000)
Nebula():setPosition(-24000,-14300)
Nebula():setPosition(-28600,-21900)
				</p>
				<p>Such a cloud of nebulae clearly hides something, so let's also add a few random nebulae.</p>
				<p class="code">
--Random nebulae in the system
Nebula():setPosition( -8000,-38300)
Nebula():setPosition( 24000,-30700)
Nebula():setPosition( 42300,  3100)
Nebula():setPosition( 49200, 10700)
Nebula():setPosition(  3750, 31250)
Nebula():setPosition(-39500, 18700)
				</p>
				<h2>Creating asteroids</h2>
				<p>You can add an asteroid in a similar manner as nebulae and stations:</p>
				<p class="code">
Asteroid():setPosition(-1000, -1000)
				</p>
				<p>However, because you usually want belts of 50, or even 100, asteroids, placing them all by hand would take quite a bit of time!</p>
				<p>Fortunately, we can use Lua functions to help add many asteroids quickly. First, let's use the <b>random()</b> function to place an asteroid in a random location of sector E5. Because sector E5 is one sector to the left of sector F5, the range is from 0 to -20000 on the X axis and 0 to 2000 on the Y axis.</p>
				<p class="code">
Asteroid():setPosition(random(0, 20000), random(-20000, 0))
				</p>
				<p>Now let's use a loop to repeat this 100 times..</p>
				<p class="code">
--Create 100 asteroids
for asteroid_counter=1,100 do
    Asteroid():setPosition(random(0, 20000), random(-20000, 0))
end
				</p>
				<p>This is a <b>for loop</b>. It counts from 1 to 100 and performs the action inside once for each count. In this case, it adds an asteroid to a random position in sector E5.</p>
				<p>Which... results in a pretty square asteroid field. Not that pretty.</p>
				<p>So right now, let's tweak the parameters to create a field from sector E4 to G4 in a straight line.</p>
				<p class="code">
--Create 50 asteroids
for asteroid_counter=1,50 do
    Asteroid():setPosition(random(-10000, -5000), random(-10000, 30000))
end
</p>
				<p>That's already much better. But from a 3D view, this asteroid belt looks very flat. To fix that, add some VisualAsteroids as well. These asteroids are above or below the ship's plane and can't be hit. They're only there for visuals.</p>
				<p class="code">
--Create 100 asteroids
for asteroid_counter=1,50 do
    Asteroid():setPosition(random(-10000, -5000), random(-10000, 30000))
    VisualAsteroid():setPosition(random(-10000, -5000), random(-10000, 30000))
end
				</p>
				<h2>Spice it up a bit</h2>
				<p>The stations have automatically assigned callsigns, such as DS-7 and other DS-? numbers. We can change these through the scenario scripts.</p>
				<p>By calling the <b>setCallSign()</b> function on the stations, we can set a different name for each of them. Keep the callsign short.</p>
				<p class="code">
SpaceStation():setTemplate("Small Station"):setFaction("Human Navy"):setPosition(23500, 16100):setCallSign("Research-1")
SpaceStation():setTemplate("Medium Station"):setFaction("Human Navy"):setPosition(-25200, 32200):setCallSign("Orion-5")
SpaceStation():setTemplate("Large Station"):setFaction("Exuari"):setPosition(-45600, -15800):setCallSign("Omega")
SpaceStation():setTemplate("Small Station"):setFaction("Independent"):setPosition(9100,-35400):setCallSign("Refugee-X")
				</p>
				<p>We'll call the small station a research station, which gives it a bit more character. The enemy station is called Omega, as it's big. And the neutral station is called Refugee-X, which makes it sound like it could house refugees. These few simple names give the whole universe more character.</p>
				<p>Finally, let's christen the player ship the <b>Epsilon</b>.</p>
				<p class="code">
PlayerSpaceship():setFaction("Human Navy"):setShipTemplate("Atlantis"):setPosition(22400, 18200):setCallSign("Epsilon")
				</p>
				<h2>Tips &amp; Tricks</h2>
				<p>In addition to asteroids, stations, and nebulae, you also have other options to make your universe more exciting:</p>
				<p class="code">
BlackHole() -- Creates a 5U-radius black hole that drags anything that comes toward its center and destroys it.
WormHole():setTargetPosition(20000, -20000) -- Creates a 5U-radius wormhole that leads to another point in space.
Mine() -- A simple mine causes a 1U-radius explosion when a ship comes too close.
WarpJammer():setFaction("Exuari") -- A warp jammer, which jams warp and jump drives of other factions in a 5U radius. Can be destroyed.
SupplyDrop():setFaction("Human Navy") -- A supply drop, which a friendly player ship can pick up by flying over it.
-- Supply drops are empty by default but can be filled with energy and missile weapons through additional script parameters.
				</p>
				<h2>Compiled example</h2>
				<p>This is the script so far:</p>
				<p class="code">
-- Name: Beacon of light - Day 1
-- Description: The beacon of light scenario, build from the series at EmptyEpsilon.org
--- Near the far outpost of Orion-5, Exuari attacks are increasing. A diplomat went missing, and your mission will start with recovering him.
-- Type: Mission

-- Init is run when the scenario is started. Create your initial world
function init()
    -- Create the main ship for the players.
    PlayerSpaceship():setFaction("Human Navy"):setShipTemplate("Atlantis"):setPosition(22400, 18200):setCallSign("Epsilon")

    SpaceStation():setTemplate("Small Station"):setFaction("Human Navy"):setPosition(23500, 16100):setCallSign("Research-1")
    SpaceStation():setTemplate("Medium Station"):setFaction("Human Navy"):setPosition(-25200, 32200):setCallSign("Orion-5")
    SpaceStation():setTemplate("Large Station"):setFaction("Exuari"):setPosition(-45600, -15800):setCallSign("Omega")
    SpaceStation():setTemplate("Small Station"):setFaction("Independent"):setPosition(9100,-35400):setCallSign("Refugee-X")

    --Nebulae that hide the enemy station.
    Nebula():setPosition(-43300,  2200)
    Nebula():setPosition(-34000,  -700)
    Nebula():setPosition(-32000,-10000)
    Nebula():setPosition(-24000,-14300)
    Nebula():setPosition(-28600,-21900)

    --Random nebulae in the system
    Nebula():setPosition( -8000,-38300)
    Nebula():setPosition( 24000,-30700)
    Nebula():setPosition( 42300,  3100)
    Nebula():setPosition( 49200, 10700)
    Nebula():setPosition(  3750, 31250)
    Nebula():setPosition(-39500, 18700)

    --Create 100 asteroids
    for asteroid_counter=1,50 do
        Asteroid():setPosition(random(-10000, -5000), random(-10000, 30000))
        VisualAsteroid():setPosition(random(-10000, -5000), random(-10000, 30000))
    end
end

function update(delta)
end
			    </p>
			</div>
			<div id="scripting-tabs-2">
				<h2>Making friends and enemies</h2>
				<p>Now we'll add some things that really spice things up: other ships.</p>
				<h2>About other ships</h2>
				<p>When working with other ships, remember a few basic things:</p>
				<ul>
				    <li><b>Factions:</b> A ship's faction defines its relationship with other ships. For example, ships of the Exuari faction attack ships and stations of the Human Navy faction, and vice versa.</li>
				    <li><b>Orders:</b> Every computer-controlled ship has orders that define how the ship behaves. A ship can be ordered to stay still, attack a target, defend a location, or seek out targets on its own.</li>
				    <li><b>Templates:</b> Every ship's appearance, equipment, and base statistics are drawn from a template. A script can override nearly any trait in a template, except for the ship's model.</li>
				</ul>
				<h2>Your first enemy</h2>
				<p>Let's create an enemy.</p>
				<p class="code">
CpuShip():setShipTemplate("Adder MK5"):setFaction("Exuari"):setPosition(1000, 1000)
				</p>
				<p>Fight it! I'm sure you'll win -- notice that it doesn't do anything, not even respond to your attacks. This is because the default orders for a CpuShip are to stay idle and do nothing.</p>
				<p>Let's give it one of the most basic orders: to seek new targets and attack them.</p>
				<p class="code">
CpuShip():setShipTemplate("Adder MK5"):setFaction("Exuari"):setPosition(1000, 1000):orderRoaming()
				</p>
				<p>Now you have an enemy to fight!</p>
				<p>Let's start setting up the scenario's opposition with 2 cruisers at the lower nebula. They will fly out and seek the player quite well on their own.</p>
				<p class="code">
--Small Exuari strike team, starting in the nebula at G5.
CpuShip():setTemplate("Adder MK5"):setFaction("Exuari"):setPosition(3550, 31250):orderRoaming()
CpuShip():setTemplate("Adder MK5"):setFaction("Exuari"):setPosition(3950, 31250):orderRoaming()
				</p>
				<h2>Defending the station</h2>
				<p>The Exuari have a large station in this area, so let's set up some defence.</p>
				<p>We'll create 3 ships to defend Omega station. This means we need a way to refer to the station in our script. Edit the lines for Omega station to <b>assign</b> it to a <b>variable</b>.</p>
				<p class="code">
-- Grab a reference to Omega station.
enemy_station = SpaceStation():setTemplate("Large Station"):setFaction("Exuari")
enemy_station:setPosition(-45600, -15800):setCallSign("Omega")
				</p>
				<p>Note how with a variable as a reference, we can move the setPosition() and setCallSign() functions to a new line. Let's also use this reference to assign new ships to its defense.</p>
				<p class="code">
-- Create the defense for the station
CpuShip():setTemplate("Starhammer II"):setFaction("Exuari"):setPosition(-44000, -14000):orderDefendTarget(enemy_station)
CpuShip():setTemplate("Phobos T3"):setFaction("Exuari"):setPosition(-47000, -14000):orderDefendTarget(enemy_station)
CpuShip():setTemplate("Atlantis X23"):setFaction("Exuari"):setPosition(-46000, -18000):orderDefendTarget(enemy_station)
				<p>With the DefendTarget orders, the ships will circle around the target and attack any enemies in range. You can set ships to defend any object, including another ship.</p>
				<p>For example, we can setup two extra fighters which follow and defend the Atlantis X23.</p>
				<p class="code">
enemy_dreadnought = CpuShip():setShipTemplate("Atlantis X23"):setFaction("Exuari")
enemy_dreadnought:setPosition(-46000, -18000):orderDefendTarget(enemy_station)
CpuShip():setShipTemplate("MT52 Hornet"):setFaction("Exuari"):setPosition(-46000, -18100):orderDefendTarget(enemy_dreadnought)
CpuShip():setShipTemplate("MT52 Hornet"):setFaction("Exuari"):setPosition(-46000, -18200):orderDefendTarget(enemy_dreadnought)</p>
				<h2>You lose! (Or, you should be able to)</h2>
				<p>When the player ship is destroyed, or when all enemies are destroyed, nothing happens. Let's fix this.</p>
				<p>First, we want to end the game with defeat if we lose the player ship. We need to edit the lines that add the player ship to create a reference to it.</p>
				<p class="code">
player = PlayerSpaceship():setFaction("Human Navy"):setShipTemplate("Atlantis")
player:setPosition(22400, 18200):setCallSign("Epsilon")</p>
				<p>Next, we'll finally use the <b>update()</b> function that has been empty so far. This function is special: the game runs any code in the update function every game <b>tick</b>, or about 60 times per second. Let's use that to constantly check whether the player ship is destroyed, and if it is, then end the game.</p>
				<p>The <b>isValid()</b> function checks an object and returns a value of either true or false: true if the object exists, false if it doesn't. With a <b>conditional</b> statement (also called an <b>if</b> statement), we can ask, "Is the player ship not a valid object?", and if the response is true (the player doesn't exist), we can tell the game to declare victory for the Exuari. Doing so in the update function asks that question repeatedly.</p>
				<p class="code">
function update(delta)
    --When the player ship is destroyed, call it a victory for the Exuari.
    if not player:isValid() then
        victory("Exuari")
    end
end
				</p>
				<p>Pretty simple, right? And naturally, you can setup victory for the player the same way by checking Omega station.</p>
				<p class="code">
--When Omega station is destroyed, call it a victory for the Human Navy.
if not enemy_station:isValid() then
    victory("Human Navy")
end
				</p>
				<h2>Tips &amp; Tricks - More about ships</h2>
				<ul>
				    <li>For all possible ship templates, check the files starting with <b>shipTemplates_</b> in the <b>scripts</b> folder. These files contain all of the standard ship definitions.</li>
				    <li>In addition to orderRoaming and orderDefendTarget, CpuShips can also have these orders:
				    <ul>
					    <li><b>orderIdle():</b> Default state. Do not move or attack.</li>
					    <li><b>orderStandGround():</b> Hold this position, but attack enemies when they are in range. The ship will fire missiles as well as beam weapons.</li>
					    <li><b>orderDefendLocation(x, y):</b> Fly toward the given position and defend it from attacks.</li>
					    <li><b>orderFlyFormation(target, offset_x, offset_y):</b> Fly in formation with the target by keeping a certain offset. When enemies are near the target, engage them. Gives fleet behaviour.</li>
					    <li><b>orderFlyTowards(x, y):</b> Fly toward a target position and attack enemies when they come too close.</li>
					    <li><b>orderFlyTowardsBlind(x, y):</b> Fly toward a target position and ignore everything else.</li>
					    <li><b>orderAttack(target):</b> Attack a specific target.</li>
					    <li><b>orderDock(target):</b> Dock with a target. Can be used to make computer-controlled ships dock with stations.</li>
				    </ul></li>
				</ul>
				<h2>Compiled example</h2>
				<p>This is the script so far:</p>
				<p class="code">
-- Name: Beacon of light series - Day 2
-- Description: The beacon of light scenario, build from the series at EmptyEpsilon.org.
--- Near the far outpost of Orion-5, Exuari attacks are increasing. A diplomat went missing, and your mission will start with recovering him.
-- Type: Mission

    --Create the main ship for the players.
    player = PlayerSpaceship():setFaction("Human Navy"):setTemplate("Atlantis")
    player:setPosition(22400, 18200):setCallSign("Epsilon")

    SpaceStation():setTemplate("Small Station"):setFaction("Human Navy"):setPosition(23500, 16100):setCallSign("Research-1")
    SpaceStation():setTemplate("Medium Station"):setFaction("Human Navy"):setPosition(-25200, 32200):setCallSign("Orion-5")
    --Grab a reference to Omega station.
    enemy_station = SpaceStation():setTemplate("Large Station"):setFaction("Exuari")
    enemy_station:setPosition(-45600, -15800):setCallSign("Omega")
    SpaceStation():setTemplate("Small Station"):setFaction("Independent"):setPosition(9100,-35400):setCallSign("Refugee-X")

    --Nebula that hide the enemy station.
    Nebula():setPosition(-43300,  2200)
    Nebula():setPosition(-34000,  -700)
    Nebula():setPosition(-32000,-10000)
    Nebula():setPosition(-24000,-14300)
    Nebula():setPosition(-28600,-21900)

    --Random nebulae in the system.
    Nebula():setPosition( -8000,-38300)
    Nebula():setPosition( 24000,-30700)
    Nebula():setPosition( 42300,  3100)
    Nebula():setPosition( 49200, 10700)
    Nebula():setPosition(  3750, 31250)
    Nebula():setPosition(-39500, 18700)

    --Create 100 asteroids.
    for asteroid_counter=1,50 do
        Asteroid():setPosition(random(-10000, -5000), random(-10000, 30000))
        VisualAsteroid():setPosition(random(-10000, -5000), random(-10000, 30000))
    end

    --Create the defense for the station.
    CpuShip():setTemplate("Starhammer II"):setFaction("Exuari"):setPosition(-44000, -14000):orderDefendTarget(enemy_station)
    CpuShip():setTemplate("Phobos T3"):setFaction("Exuari"):setPosition(-47000, -14000):orderDefendTarget(enemy_station)
    enemy_dreadnought = CpuShip():setTemplate("Atlantis X23"):setFaction("Exuari")
    enemy_dreadnought:setPosition(-46000, -18000):orderDefendTarget(enemy_station)
    CpuShip():setTemplate("MT52 Hornet"):setFaction("Exuari"):setPosition(-46000, -18100):orderDefendTarget(enemy_dreadnought)
    CpuShip():setTemplate("MT52 Hornet"):setFaction("Exuari"):setPosition(-46000, -18200):orderDefendTarget(enemy_dreadnought)

    --Small Exuari strike team in the nebula at G5.
    CpuShip():setTemplate("Adder MK5"):setFaction("Exuari"):setPosition(3550, 31250)
    CpuShip():setTemplate("Adder MK5"):setFaction("Exuari"):setPosition(3950, 31250)
end

function update(delta)
    --When the player ship is destroyed, call it a victory for the Exuari.
    if not player:isValid() then
        victory("Exuari")
    end
    --When Omega station is destroyed, call it a victory for the Human Navy.
    if not enemy_station:isValid() then
        victory("Human Navy")
    end
end
				</p>
			    </div>
			    <div id="scripting-tabs-3">
				<h2>Ready for your orders?</h2>
				<p>Now that we know how to create a basic universe and fill it with some enemies, let's start creating a mission.</p>
				<p>To kick off this mission, we'll send a transmission from <b>Research-1</b> to the player, indicating that a transport ship carrying a diplomat was lost en route from Research-1 station to Orion-X.</p>
				<p>This involves more code, and we'll explain it in less detail than the previous steps. Keep the Lua reference and script reference handy in case you need help.</p>
				<h2>Your first order!</h2>
				<p>Start by creating references for the rest of the stations, as we'll need them later on.</p>
				<p class="code">
research_station = SpaceStation():setTemplate("Small Station"):setFaction("Human Navy")
research_station:setPosition(23500, 16100):setCallSign("Research-1")
main_station = SpaceStation():setTemplate("Medium Station"):setFaction("Human Navy")
main_station:setPosition(-25200, 32200):setCallSign("Orion-5")
enemy_station = SpaceStation():setTemplate("Large Station"):setFaction("Exuari")
enemy_station:setPosition(-45600, -15800):setCallSign("Omega")
neutral_station = SpaceStation():setTemplate("Small Station"):setFaction("Independent")
neutral_station:setPosition(9100,-35400):setCallSign("Refugee-X")
				</p>
				<p>At the end of the init function, send a transmission to the player by using the <b>sendCommsMessage()</b> function. Note how we use double brackets [[ to wrap multiple lines of text.</p>
				<p class="code">
--Start off the mission by sending a transmission to the player
research_station:sendCommsMessage(player, [[Epsilon, please come in?

We lost contact with our transport RT-4, who was transporting a diplomat from our research station to Orion-X.

Last contact was before RT-4 entered the nebula at G5.

Please investigate and recover the diplomat if possible!]])
				</p>
				<h2>Improving the enemy strike team</h2>
				<p>We still have the Exuari strike team set up in the nebula at G5. However, they have roaming orders and will fly out of the nebula to engage enemies. Instead, we want the strike team to hide in the nebula. We also need a transport (designated RT-4, as in our comms message) in the nebula.</p>
				<p>By default, friendly ships have a basic <b>comms script</b> (comms_ship.lua in the scripts folder) that responds to player hails and takes basic orders. We don't want RT-4 to respond, so we can set the comms script to nothing ("").</p>
				<p class="code">
transport_RT4 = CpuShip():setTemplate("Flavia"):setFaction("Human Navy"):setPosition(3750, 31250)
transport_RT4:orderIdle():setCallSign("RT-4"):setCommsScript("")
				</p>
				<p>We want the Exuari strike team to destroy RT-4 in front of the players' eyes, so we assign them references and set their orders to Idle so they won't move until ordered. We also set RT-4's hull and shields to 1 so that it can be destroyed in a single shot.</p>
				<p class="code">
transport_RT4:setHull(1):setShieldsMax(1, 1)

--Small Exuari strike team, guarding RT-4 in the nebula at G5.
exuari_RT4_guard1 = CpuShip():setTemplate("Adder MK5"):setFaction("Exuari"):setPosition(3550, 31250):setRotation(0)
exuari_RT4_guard2 = CpuShip():setTemplate("Adder MK5"):setFaction("Exuari"):setPosition(3950, 31250):setRotation(180)
exuari_RT4_guard1:orderIdle()
exuari_RT4_guard2:orderIdle()
				</p>
				<p>Next, we'll script the mission itself. First, set the initial mission state at the end of the init() function. We'll do that with a variable to track the mission's current state, and we'll increase it each time the players trigger a new event.</p>
				<p class="code">
--Set the initial mission state
mission_state = 1
				</p>
				<p>Change the update() function. We still want the mission to end with an Exuari victory when the player is destroyed, and we also want the Exuari to win if Research-1 is destroyed. For now, however, remove the Human Navy victory condition.</p>
				<p class="code">
function update(delta)
    --When the player ship or research station is destroyed, call it a victory for the Exuari.
    if not player:isValid() or not research_station:isValid() then
        victory("Exuari")
    end
				</p>
				<p>Now we'll set up what happens during our initial mission state of 1. When the player gets within 5U of transport RT-5, order the Exuari ships to roam around. This causes them to target and destroy RT-4, then target the player ship.</p>
				<p class="code">
    if mission_state == 1 then
        if distance(player, transport_RT4) &lt; 5000 then
            exuari_RT4_guard1:orderRoaming()
            exuari_RT4_guard2:orderRoaming()
            mission_state = 2
        end
    end
end
				</p>
				<p>Finally, outside of the update() function, add a new utility function to measure the distance between two objects. This function uses the <b>getPosition()</b> function to get an object's X and Y coordinates. The <b>local</b> keyword is a Lua feature that prevents these variables from existing outside of this function, which is safer.</p>
				<p class="code">
function distance(obj1, obj2)
    local x1, y1 = obj1:getPosition()
    local x2, y2 = obj2:getPosition()
    local xd, yd = (x1 - x2), (y1 - y2)
    return math.sqrt(xd * xd + yd * yd)
end
				</p>
				<h2>Get the Exuari scum! (Oh, and save the diplomat.)</h2>
				<p>We can quite safely assume that the Exuari will destroy RT-4 during mission_state 2. In this new state, we'll wait until RT-4 is destroyed to spawn an empty supply drop as an escape pod. We'll also transmit a message to the Epsilon to tell the players what to do. Back in the update() function, add the following:</p>
				<p class="code">
if mission_state == 2 then
    if not transport_RT4:isValid() then
        -- RT-4 destroyed, send a transmission to the player, create a supply drop to indicate an escape pod.
        mission_state = 3
        transport_RT4_drop = SupplyDrop():setFaction("Human Navy"):setPosition(3750, 31250)
        research_station:sendCommsMessage(player, [[RT-4 has been destroyed! But an escape pod is ejected from the ship.

Lifesigns detected in the pod, please pick up the pod to see if the diplomat made it. His death would be a great blow to the peace negotiations in the region.

And destroy those Exuari scum while you are at it!]])
end
				</p>
				<p>Once again, we increase mission_state to trigger the next event. We also create the supply drop and keep a reference to it, and we send new instructions to the player ship.</p>
				<p>We want the escape pod to be picked up, but we also want the Exuari ships to be destroyed before we continue. After we pick up the escape pod, we want the players to deliver it to the station and finish the mission.</p>
				<p class="code">
if mission_state == 3 then
    if not transport_RT4_drop:isValid() and not exuari_RT4_guard1:isValid() and not exuari_RT4_guard2:isValid() then
	-- Escape pod picked up, all Exuari ships destroyed.
	mission_state = 4
    research_station:sendCommsMessage(player, [[The diplomat is safely picked up! Thanks for that.

Please deliver the diplomat to Orion-5 in sector G3. Do this by docking with the station.]])
    end
end
				</p>
				<p>With the diplomat aboard the Epsilon, we can set up the Human Navy victory condition: his safe delivery to Orion-5.</p>
				<p class="code">
if mission_state == 4 then
    if player:isDocked(main_station) then
	-- Docked and delivered the diplomat.
	victory("Human Navy")
    end
end
				</p>
				<h2>Tips &amp; tricks</h2>
				<p>There is a LOT you can do with mission scripts, even with the limited tools at your disposal. Mission progression doesn't have to be as linear as in this example, and you could create branching plotlines or randomized conditions. For example, you could make RT-4 survive the assault long enough for the players to have a chance of destroying the Exuari ships first, which could yield more rewards or lead to a different mission path.</p>
				<p>If you want to try some things for yourself but aren't sure where to go from here, try setting up a retaliatory Exuari strike after rescuing the diplomat. Spawn some ships near the edge of the nebulae at Omega station and order them to attack the player ship. You can also send a transmission from the new enemy ships to the players to let them know why they are being attacked.</p>
				<h2>Compiled example</h2>
				<p>This is the script so far:</p>
				<p class="code">
-- Name: Beacon of light series
-- Description: The beacon of light scenario, build from the series at EmptyEpsilon.org.
--- Near the far outpost of Orion-5, Exuari attacks are increasing. A diplomat went missing, and your mission will start with recovering him.
-- Type: Mission

-- Init is run when the scenario is started. Create your initial world
function init()
    --Create the main ship for the players.
    player = PlayerSpaceship():setFaction("Human Navy"):setTemplate("Atlantis")
    player:setPosition(22400, 18200):setCallSign("Epsilon")

    research_station = SpaceStation():setTemplate("Small Station"):setFaction("Human Navy")
    research_station:setPosition(23500, 16100):setCallSign("Research-1")
    main_station = SpaceStation():setTemplate("Medium Station"):setFaction("Human Navy")
    main_station:setPosition(-25200, 32200):setCallSign("Orion-5")
    enemy_station = SpaceStation():setTemplate("Large Station"):setFaction("Exuari")
    enemy_station:setPosition(-45600, -15800):setCallSign("Omega")
    neutral_station = SpaceStation():setTemplate("Small Station"):setFaction("Independent")
    neutral_station:setPosition(9100,-35400):setCallSign("Refugee-X")
    
    --Nebula that hide the enemy station.
    Nebula():setPosition(-43300,  2200)
    Nebula():setPosition(-34000,  -700)
    Nebula():setPosition(-32000,-10000)
    Nebula():setPosition(-24000,-14300)
    Nebula():setPosition(-28600,-21900)

    --Random nebulae in the system
    Nebula():setPosition( -8000,-38300)
    Nebula():setPosition( 24000,-30700)
    Nebula():setPosition( 42300,  3100)
    Nebula():setPosition( 49200, 10700)
    Nebula():setPosition(  3750, 31250)
    Nebula():setPosition(-39500, 18700)

    --Create 100 asteroids.
    for asteroid_counter=1,50 do
        Asteroid():setPosition(random(-10000, -5000), random(-10000, 30000))
        VisualAsteroid():setPosition(random(-10000, -5000), random(-10000, 30000))
    end

    -- Create the defense for the station
    CpuShip():setTemplate("Starhammer II"):setFaction("Exuari"):setPosition(-44000, -14000):orderDefendTarget(enemy_station)
    CpuShip():setTemplate("Phobos T3"):setFaction("Exuari"):setPosition(-47000, -14000):orderDefendTarget(enemy_station)
    enemy_dreadnought = CpuShip():setTemplate("Atlantis X23"):setFaction("Exuari")
    enemy_dreadnought:setPosition(-46000, -18000):orderDefendTarget(enemy_station)
    CpuShip():setTemplate("MT52 Hornet"):setFaction("Exuari"):setPosition(-46000, -18100):orderDefendTarget(enemy_dreadnought)
    CpuShip():setTemplate("MT52 Hornet"):setFaction("Exuari"):setPosition(-46000, -18200):orderDefendTarget(enemy_dreadnought)

    transport_RT4 = CpuShip():setTemplate("Flavia"):setFaction("Human Navy"):setPosition(3750, 31250)
    transport_RT4:orderIdle():setCallSign("RT-4"):setCommsScript("")
    transport_RT4:setHull(1):setShieldsMax(1, 1)

    --Small Exuari strike team, guarding RT-4 in the nebula at G5.
    exuari_RT4_guard1 = CpuShip():setTemplate("Adder MK5"):setFaction("Exuari"):setPosition(3550, 31250):setRotation(0)
    exuari_RT4_guard2 = CpuShip():setTemplate("Adder MK5"):setFaction("Exuari"):setPosition(3950, 31250):setRotation(180)
    exuari_RT4_guard1:orderIdle()
    exuari_RT4_guard2:orderIdle()

    --Start off the mission by sending a transmission to the player
    research_station:sendCommsMessage(player, [[Epsilon, please come in?

We lost contact with our transport RT-4, who was transporting a diplomat from our research station to Orion-X.

Last contact was before RT-4 entered the nebula at G5.

Please investigate and recover the diplomat if possible!]])

    --Set the initial mission state
    mission_state = 1
end

function update(delta)
    --When the player ship or the research station is destroyed, call it a victory for the Exuari.
    if not player:isValid() or not research_station:isValid() then
        victory("Exuari")
    end

    if mission_state == 1 then
        if distance(player, transport_RT4) &lt; 5000 then
            exuari_RT4_guard1:orderRoaming()
            exuari_RT4_guard2:orderRoaming()
            mission_state = 2
        end
    end
    if mission_state == 2 then
        if not transport_RT4:isValid() then
            -- RT-4 destroyed, send a transmission to the player, create a supply drop to indicate an escape pod.
            mission_state = 3
            transport_RT4_drop = SupplyDrop():setFaction("Human Navy"):setPosition(3750, 31250)
            research_station:sendCommsMessage(player, [[RT-4 has been destroyed! But an escape pod is ejected from the ship.

Lifesigns detected in the pod, please pick up the pod to see if the diplomat made it.

And destroy those Exuari scum while you are at it!]])
        end
    end
    if mission_state == 3 then
        if not transport_RT4_drop:isValid() and not exuari_RT4_guard1:isValid() and not exuari_RT4_guard2:isValid() then
            -- Escape pod picked up, all Exuari ships destroyed.
            mission_state = 4
            research_station:sendCommsMessage(player, [[The diplomat is safely picked up! Thanks for that.

Please deliver the diplomat to Orion-5 in sector G3. Do this by docking with the station.]])
        end
    end
    if mission_state == 4 then
        if player:isDocked(main_station) then
            -- Docked and delivered the diplomat.
            victory("Human Navy")
        end
    end
end

function distance(obj1, obj2)
    local x1, y1 = obj1:getPosition()
    local x2, y2 = obj2:getPosition()
    local xd, yd = (x1 - x2), (y1 - y2)
    return math.sqrt(xd * xd + yd * yd)
end
			    </p>
			</div>
		</div>
	</div>
	<div id="tabs-download">
		<h2>Download</h2>
		<p id="downloads-info">Downloads for Windows and Android are available at: <a href="http://software.ultimaker.com/EmptyEpsilon/?C=M;O=D">[download list]</a></p>
		<p>You need to use the same version number for all users or else the game will not work correctly. Mixing different version numbers is not supported.</p>
		<p>Storage for downloads provided by <a href="http://ultimaker.com/">Ultimaker</a>. Many thanks that they allow us to use their build and download servers. If you are concidering an 3D printer, buy from Ultimaker, they are nice people.</p>
		<h2>Source</h2>
		<p>The sourcecode is up on github at:</p>
		<p><a href="https://github.com/daid/EmptyEpsilon">https://github.com/daid/EmptyEpsilon</a> (Game source code)</p>
		<p><a href="https://github.com/daid/SeriousProton">https://github.com/daid/SeriousProton</a> (Engine source code)</p>
	</div>
    <div id="tabs-forums">
        <p>The forums where we communicate about the game can be found at: <a href="http://bridgesim.net/categories/emptyepsilon">bridgesim.net</a></p>
    </div>
</div>

<script src="jquery.min.js"></script>
<script src="jquery-ui.min.js"></script>
<script>
function mapHash()
{
	var parts = location.hash.substr(1).split(',');
	var data = {}
	parts.forEach(function(part)
	{
		var info = part.split("=");
		if (info.length > 1)
			data[info[0]] = info[1];
	});
	return data;
}

function updateHashFromTab(event, ui)
{
	var target_id = event.target.id;
	var target_index = $(event.target).tabs("option", "active");

    if (target_id == "tabs" && target_index == 6)
    {
        window.location.href = "http://bridgesim.net/categories/emptyepsilon";
    }

	var data = mapHash();
	data[target_id] = target_index;
	var hash = [];
	for(var key in data)
	{
		hash.push(key + "=" + data[key])
	}
	location.hash = hash.join(",");
}

$(function() {
	$("#tabs").tabs({activate: updateHashFromTab});
	$("#station-tabs").tabs({activate: updateHashFromTab});
	$("#running-tabs").tabs({activate: updateHashFromTab});

	$("#scripting-tabs").tabs({activate: updateHashFromTab}).addClass("ui-tabs-vertical ui-helper-clearfix");
	$("#scripting-tabs ul").removeClass("ui-widget-header");
	$("#scripting-tabs li" ).removeClass("ui-corner-top").addClass("ui-corner-left");
	$("#scripting-tabs div" ).removeClass("ui-corner-bottom");

	// $.each($("img"), function(idx, element)
	// {
	// 	element = $(element)
	// 	if (element.attr('src').indexOf('screenshots/') != 0)
	// 		return true;
	// 	element.css('width', '200px');
	// 	var wrapper = $("<span style='position: relative'>");
	// 	var button = $("<span class='ui-icon ui-icon-circle-zoomin' style='position: absolute; bottom: 6px; right: 4px;'></span>");
	// 	scale_function = function() {
	// 		if (element.css('width') == '200px')
	// 			element.animate({'width': element[0].naturalWidth + 'px'}, 500);
	// 		else
	// 			element.animate({'width': '200px'}, 500);
	// 	}
	// 	element.click(scale_function);
	// 	button.click(scale_function);
	// 	element.wrap(wrapper);
	// 	element.after(button);
	// });
	$.each($(".code"), function(idx, element)
	{
		element = $(element);
		var lines = element.html().split("\n");
		var output = [];
		lines.forEach(function(line) {
			if (line.indexOf("--") > -1)
			{
				n = line.indexOf("--");
				line = line.substr(0, n) + "<span style='color: green'>" + line.substr(n) + "</span>";
			}
            line = line.replace(/"([^"]*)"/g, "<span style='color: blue'>\"$1\"</span>");
			output.push(line);
		});
		while(output.length > 0 && output[0].trim() == "")
			output.shift()
		while(output.length > 0 && output[output.length - 1].trim() == "")
			output.pop()
        output = output.join("\n");
        output = output.replace(/\[\[([^(\]\])]*)\]\]/gm, "<span style='color: blue'>[[$1]]</span>");
		element.html(output);
	})

	var hashData = mapHash()
	for(var key in hashData)
	{
		$("#" + key).tabs("option", "active", hashData[key]);
	}

	$.get("http://software.ultimaker.com/ee_files.php", function(data) {
		var files = {}
		for(var idx in data)
		{
			var f = data[idx]
			var version = f.match("[0-9][0-9][0-9][0-9]\.?[0-9][0-9]\.?[0-9][0-9]");
			if (version.length == 1)
			{
				var os = "";
				version = parseInt(version[0].replace(/\./g, ""));
				if (f.toLowerCase().indexOf("win32") > -1 || f.toLowerCase().indexOf("windows") > -1)
					os = "windows";
				if (f.toLowerCase().indexOf("android") > -1)
					os = "android";
				if (f.toLowerCase().indexOf("osx") > -1 || f.toLowerCase().indexOf("macos") > -1)
					os = "osx";

				if (os != "")
				{
					if (files[version] == undefined)
						files[version] = {}
					files[version][os] = f;
				}
			}
		}

		var html = '<table class="downloads"><tr><th>OS<th>File<th>version';
		var part2 = '<tr><th>OS<th>File<th>version'
        var first = true;
        var versions = [];
		for(var version in files)
		{
            versions.push(version);
        }
        versions.sort();
        versions.reverse();
		for(var i in versions)
		{
            var version = versions[i];
			var oses = [];
			for(var os in files[version])
				oses.push(os);
			oses.sort();
			oses.reverse();

			for(var idx in oses)
			{
                var os = oses[idx];
				var vers = version.substr(0, 4) + "-" + version.substr(4, 2) + "-" + version.substr(6, 2);
				var url = 'http://software.ultimaker.com/EmptyEpsilon/' + files[version][os];
                var title = files[version][os];
                if (os == "android")
                    title += " (BETA)";
				row = '<tr class="' + os + '"><td><a href="' + url + '"><img src="images/os_' + os + '.svg" width="24"></a><td><a href="' + url + '" class="download ' + os + '">' + title + '</a><td>' + vers;
				if (first)
					html += row;
				else
					part2 += row;
			}
            first = false;
		}
		html += part2;
		html += '</table>';
		$('#downloads-info').html(html);
	}, "json");
});
</script>
<script src="jquery.magnific-popup.min.js"></script>
<script type="text/javascript">
	$('.image-link').magnificPopup({
	  type: 'image',
		closeOnContentClick: 'true',
		showCloseBtn: 'false',
	  mainClass: 'mfp-with-zoom', // this class is for CSS animation below

	  zoom: {
	    enabled: true, // By default it's false, so don't forget to enable it

	    duration: 300, // duration of the effect, in milliseconds
	    easing: 'ease-in-out', // CSS transition easing function

	    // The "opener" function should return the element from which popup will be zoomed in
	    // and to which popup will be scaled down
	    // By defailt it looks for an image tag:
	    opener: function(openerElement) {
	      // openerElement is the element on which popup was initialized, in this case its <a> tag
	      // you don't need to add "opener" option if this code matches your needs, it's defailt one.
	      return openerElement.is('img') ? openerElement : openerElement.find('img');
	    }
	  }

	});
</script>
</body>
</html>
